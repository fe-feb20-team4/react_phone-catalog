(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{32:function(e,t,a){e.exports=a(44)},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),s=a.n(r),l=a(3),o=a(2),i=a(4),u=function(){return c.a.createElement("div",{className:"logo"},c.a.createElement(o.b,{to:"/",className:"logo__link"},c.a.createElement("img",{src:"./img/logo.svg",alt:"logo",className:"logo__img"})))},m=function(){var e=Object(n.useCallback)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]);return c.a.createElement("footer",{className:"footer"},c.a.createElement("div",{className:"container footer__container"},c.a.createElement(u,null),c.a.createElement("div",{className:"footer__links"},c.a.createElement(o.b,{to:"/",className:"footer__link"},"Github"),c.a.createElement(o.b,{to:"/",className:"footer__link"},"Contacts"),c.a.createElement(o.b,{to:"/",className:"footer__link"},"Rights")),c.a.createElement("div",{className:"footer__top-button-container"},c.a.createElement("p",{className:"footer__paragraph"},"Back to top"),c.a.createElement("button",{type:"button","aria-label":"BackToTop",className:"footer__top-button",onClick:e}))))},d=a(14),p=a(26),_=a(6),f=function(e){var t=e.title,a=e.link,r=e.exact,s=e.onMount,l=Object(n.useRef)(null);return Object(n.useEffect)((function(){s(a,l)}),[s,a,l]),c.a.createElement("li",{className:"nav__item"},c.a.createElement(o.c,{to:a,ref:l,exact:r,className:"nav__link"},t))},E=function(){var e=Object(i.h)(),t=Object(i.g)(),a=Object(i.g)().pathname;return{match:e,location:t,history:Object(i.f)(),search:new URLSearchParams(t.search),pathname:a}},b=[{title:"Home",link:"/",exact:!0},{title:"Phones",link:"/phones",exact:!1},{title:"Tablets",link:"/tablets",exact:!1},{title:"Accessories",link:"/accessories",exact:!1}],g=function(){var e=E().pathname,t=Object(n.useState)(null),a=Object(_.a)(t,2),r=a[0],s=a[1],l=Object(n.useRef)({}),o=Object(n.useCallback)((function(e,t){l.current=Object(p.a)(Object(p.a)({},l.current),{},Object(d.a)({},e,t))}),[]);return Object(n.useEffect)((function(){var t="/".concat(e.split("/")[1]);if(l.current[t]){var a=l.current[t];s(a.current.getBoundingClientRect())}else s(null)}),[e,l]),c.a.createElement("nav",{className:"nav"},c.a.createElement("ul",{className:"nav__list"},b.map((function(e){var t=e.title,a=e.link,n=e.exact;return c.a.createElement(f,{key:t,title:t,link:a,exact:n,onMount:o})})),r&&c.a.createElement("span",{className:"nav__active-element",style:{width:"".concat(r.width,"px"),left:"".concat(r.x,"px")}})))},h=a(11),v=a.n(h),N=a(15),O=a(12),j=a(30),y=a(31),k=function(e){return{type:"SET_PRODUCTS",products:e}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCTS":return t.products;default:return e}},w="https://mate-academy.github.io/react_phone-catalog/api/products",C=function(){var e=Object(N.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,".json"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(N.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/").concat(t,".json"));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=a(21),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAVORITES":return[].concat(Object(P.a)(e),[t.product]);case"DELETE_FAVORITE":return e.filter((function(e){return e.id!==t.id}));default:return e}},x=function(e){return{type:"SET_DETAILS",details:e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DETAILS":return t.details;default:return e}},A=Object(O.combineReducers)({products:S,details:R,favorites:T}),F=function(e){return e.products},I=function(e){return e.details},L=function(e){return e.favorites},B=function(){return function(){var e=Object(N.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:a=e.sent,t(k(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=localStorage.getItem("reduxState")?JSON.parse(localStorage.getItem("reduxState")||""):{},z=Object(O.createStore)(A,D,Object(j.composeWithDevTools)(Object(O.applyMiddleware)(y.a)));z.subscribe((function(){localStorage.setItem("reduxState",JSON.stringify(z.getState()))}));var q,V=z,W=function(){var e=Object(l.c)(L),t=Object(n.useMemo)((function(){return e.length>0}),[e.length]);return c.a.createElement("div",{className:"favorites"},c.a.createElement(o.b,{to:"/favorites",className:"favorites__button"},t&&c.a.createElement("span",{className:"favorites__indicator"},e.length)))},H=function(){return c.a.createElement("div",{className:"cart"},c.a.createElement(o.b,{to:"/",className:"cart__button"}))},Z=a(5),G=a.n(Z);!function(e){e.NEWEST="Newest",e.FROM_A_TO_Z="From A to Z",e.FROM_Z_TO_A="From Z to A",e.CHEAPEST="Cheapest"}(q||(q={}));var J="left",U="right",X="Items on page",$="Sort by",Y=[{option:q.NEWEST},{option:q.FROM_A_TO_Z},{option:q.FROM_Z_TO_A},{option:q.CHEAPEST}],K=[{option:"4"},{option:"8"},{option:"16"},{option:"All"}],Q={phone:"phones",tablet:"tablets",favorites:"favorites"},ee="phone",te="tablet",ae="/phones",ne="/tablets",ce="/favorites",re="Hot prices",se="Brand new models",le="You may also like",oe="Mobile phones",ie="Tablets",ue="Favorites",me="Add to cart",de="button--lg",pe="button-favorite--lg",_e="product-price--lg",fe=function(e){var t=e.inputValue,a=e.searchProducts,r=e.searchReset,s=Object(n.useRef)(null),l=E().location,o=Object(n.useCallback)((function(){r(),s&&s.current&&s.current.focus()}),[r]),i=Object(n.useMemo)((function(){switch(l.pathname){case ae:return"phones";case ne:return"tablets";case ce:return"favorites";default:return"products"}}),[l.pathname]);return c.a.createElement("div",{className:"search"},c.a.createElement("input",{ref:s,type:"text",value:t,className:"search__input",placeholder:"Search in ".concat(i,"..."),onChange:a}),c.a.createElement("button",{type:"button","aria-label":"Clear input",className:G()({search__button:!0,"search__button--clear":t}),onClick:o,disabled:0===t.length}))};var Ee=function(e,t){var a;return function(){for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];clearTimeout(a),a=setTimeout((function(){e.apply(void 0,c)}),t)}},be=function(){var e=E(),t=e.location,a=e.history,c=e.search,r=Object(l.b)(),s=Object(n.useMemo)((function(){return c.get("query")||""}),[c]),o=c.get("sortBy"),i=Object(n.useState)(s),u=Object(_.a)(i,2),m=u[0],d=u[1],p=Object(l.c)(F),f=Object(l.c)(L);Object(n.useEffect)((function(){return r(B()),function(){return d("")}}),[r,t.pathname]);var b=Object(n.useCallback)(Ee((function(e){c.set("query",e.toLowerCase()),c.get("query")||c.delete("query"),a.push({search:c.toString()})}),500),[]);return{inputValue:m,searchProducts:Object(n.useCallback)((function(e){var t=e.target.value;d(t),b(t)}),[b]),searchedProducts:Object(n.useMemo)((function(){return t.pathname===ce?f.filter((function(e){return e.name.toLowerCase().includes(s)})):p.filter((function(e){return e.name.toLowerCase().includes(s)})).slice().sort((function(e,t){switch(o){case q.NEWEST:return e.age-t.age;case q.FROM_A_TO_Z:return e.name.localeCompare(t.name);case q.FROM_Z_TO_A:return t.name.localeCompare(e.name);case q.CHEAPEST:return e.price-t.price;default:return 0}}))}),[p,s,o,f,t.pathname]),searchReset:Object(n.useCallback)((function(){d(""),c.get("query")||c.delete("query"),a.push({search:""})}),[c,a]),products:p}},ge=function(){var e=be(),t=e.inputValue,a=e.searchProducts,r=e.searchReset,s=E().location.pathname,l=Object(n.useMemo)((function(){return s===ae||s===ne||s===ce}),[s]);return c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"header__flex-wrap"},c.a.createElement("div",{className:"header__logo"},c.a.createElement(u,null)),c.a.createElement("div",{className:"header__nav"},c.a.createElement(g,null))),c.a.createElement("div",{className:"header__flex-wrap"},l&&c.a.createElement(fe,{inputValue:t,searchProducts:a,searchReset:r}),c.a.createElement(W,null),c.a.createElement(H,null)))},he=function(e){var t=e.productId,a=e.styleSize,r=Object(l.c)(L),s=Object(l.c)(F),o=Object(l.b)(),i=Object(n.useCallback)((function(e,t){var a=s.find((function(e){return e.id===t}));e.target.checked?o(function(e){return{type:"SET_FAVORITES",product:e}}(a)):o({type:"DELETE_FAVORITE",id:t})}),[o,s]),u=Object(n.useMemo)((function(){return r.some((function(e){return e.id===t}))}),[r,t]);return c.a.createElement("label",{className:G()("button-favorite",a),htmlFor:"button-favorite__".concat(t)},c.a.createElement("input",{className:"button-favorite__input",type:"checkbox",id:"button-favorite__".concat(t),checked:u,onChange:function(e){return i(e,t)}}),c.a.createElement("span",{className:"button-favorite__checkmark"}))},ve=function(e){var t=e.price,a=e.discount,r=e.styleSize,s=Object(n.useMemo)((function(){return t*(a/100)+t}),[t,a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:G()("product-price",r)},"$".concat(t)),a>0&&c.a.createElement("span",{className:"product-discount"},"$".concat(s)))},Ne=function(e){var t=e.title,a=e.styleSize;return c.a.createElement("button",{className:G()("button",a),type:"button"},t)},Oe=function(e){var t=e.name,a=e.type,r=e.imageUrl,s=e.price,l=e.screen,i=e.capacity,u=e.ram,m=e.discount,d=e.id,p=e.productCardRef,_=Object(n.useMemo)((function(){return l.replace(" inches",'"')}),[l]),f=Object(n.useMemo)((function(){return"".concat(parseInt(i||"32000",10)," MB")}),[i]),E=Object(n.useMemo)((function(){return"".concat(parseInt(u||"1000",10)," MB")}),[u]),b=Object(n.useCallback)((function(){window.scrollTo(0,0)}),[]);return c.a.createElement("article",{className:"product-card",ref:p},c.a.createElement(o.b,{to:"/".concat(Q[a],"/").concat(d),className:"product-card__link",onClick:b},c.a.createElement("img",{className:"product-card__image",src:r,alt:t}),c.a.createElement("p",{className:"product-card__title"},t)),c.a.createElement("div",{className:"product-card__price-container"},c.a.createElement(ve,{price:s,discount:m})),c.a.createElement("span",{className:"product-card__split-line"}),c.a.createElement("div",{className:"product-card__details"},c.a.createElement("div",{className:"product-card__details-container"},c.a.createElement("span",{className:"product-card__details-title"},"Screen"),c.a.createElement("span",{className:"product-card__details-info"},_)),c.a.createElement("div",{className:"product-card__details-container"},c.a.createElement("span",{className:"product-card__details-title"},"Capacity"),c.a.createElement("span",{className:"product-card__details-info"},f)),c.a.createElement("div",{className:"product-card__details-container"},c.a.createElement("span",{className:"product-card__details-title"},"RAM"),c.a.createElement("span",{className:"product-card__details-info"},E))),c.a.createElement("div",{className:"product-card__buttons-container"},c.a.createElement(Ne,{title:me}),c.a.createElement(he,{productId:d})))},je=function(e){var t=e.products,a=e.position,n=e.animationDuration,r=e.productCardRef,s=e.sliderVisibleWidth;return c.a.createElement("div",{className:"slider",style:{width:"".concat(s,"px")}},c.a.createElement("div",{className:"slider__list",style:{transform:"translateX(".concat(a,"px)"),transition:"transform ".concat(n,"ms")}},t.map((function(e){return c.a.createElement(Oe,Object.assign({key:e.id},e,{productCardRef:r}))}))))},ye=function(e){var t=e.handleSlide,a=e.direction,r=e.position,s=e.maxPosition,l=a===J,o=a===U,i=0===r,u=r===s,m=Object(n.useCallback)((function(){return t(a)}),[t,a]);return c.a.createElement("button",{type:"button","aria-label":"Slide ".concat(a),className:G()(Object(d.a)({slider__button:!0},"slider__button-".concat(a),!0)),onClick:m,disabled:l&&i||o&&u})},ke=function(e){var t=e.title;return c.a.createElement("h2",{className:"section__heading heading"},t)},Se=function(e){var t=e.title,a=function(e,t){var a=Object(l.b)(),c=Object(l.c)(F),r=Object(n.useState)(0),s=Object(_.a)(r,2),o=s[0],i=s[1],u=Object(n.useState)(0),m=Object(_.a)(u,2),d=m[0],p=m[1];Object(n.useEffect)((function(){a(B())}),[a]);var f=Object(n.useMemo)((function(){return d+16}),[d]),E=Object(n.useMemo)((function(){return c.filter((function(e){return 0!==e.discount}))}),[c]),b=Object(n.useMemo)((function(){return c.filter((function(e){return e.age<10&&!e.discount}))}),[c]),g=Object(n.useMemo)((function(){if(!t)return[];var e=t.price,a=t.name;return c.filter((function(t){return t.price-150<=e&&t.price+150>=e&&a!==t.name&&t.type}))}),[c,t]),h=Object(n.useMemo)((function(){switch(e){case re:return E;case se:return b;case le:return g;default:return[]}}),[e,E,b,g]),v=Object(n.useMemo)((function(){return 2*f}),[f]),N=Object(n.useMemo)((function(){return 4*f}),[f]),O=Object(n.useMemo)((function(){return f*h.length}),[f,h]),j=Object(n.useMemo)((function(){return N-O}),[N,O]),y=Object(n.useCallback)((function(e){null!==e&&p(e.getBoundingClientRect().width)}),[]),k=Object(n.useCallback)((function(e){i(e===J?o+v>0?0:o+v:o-v<j?j:o-v)}),[o,j,v]);return{currentProducts:h,position:o,step:2,itemWidth:f,animationDuration:700,handleSlide:k,maxPosition:j,productCardRef:y,frameSize:4}}(t,e.selectedProduct),r=a.currentProducts,s=a.position,o=a.step,i=a.itemWidth,u=a.animationDuration,m=a.handleSlide,d=a.maxPosition,p=a.productCardRef,f=a.frameSize,E=Object(n.useMemo)((function(){return f*i}),[f,i]),b=Object(n.useMemo)((function(){return E<r.length*i}),[r,i,E]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"section__heading-container"},c.a.createElement(ke,{title:t}),b&&c.a.createElement("div",{className:"slider__controls"},c.a.createElement(ye,{handleSlide:m,direction:J,position:s,maxPosition:d}),c.a.createElement(ye,{handleSlide:m,direction:U,position:s,maxPosition:d}))),c.a.createElement(je,{products:r,position:s,step:o,animationDuration:u,productCardRef:p,sliderVisibleWidth:E}))},we=function(e){var t=e.slides,a=e.moveSize,n=e.duration;return c.a.createElement("ul",{className:"carousel__list",style:{transform:"translateX(".concat(-a,"px)"),transitionDuration:"".concat(n,"s")}},t.map((function(e){var t=e.id,a=e.name,n=e.src;return c.a.createElement("li",{key:t,className:"carousel__item"},c.a.createElement("img",{className:"carousel__image",src:n,alt:a}))})))},Ce=function(e){var t=e.slides,a=e.active,n=e.goToSlide;return c.a.createElement("div",{className:"carousel__dots"},t.map((function(e,t){return c.a.createElement("button",{key:e.id,type:"button","aria-label":"Got to ".concat(t+1," slide"),onClick:function(){return n(t)},className:G()({carousel__dot:!0,"carousel__dot--active":a===t})})})))},Me=function(e){var t=e.changeSlide,a=e.direction;return c.a.createElement("button",{type:"button",className:"carousel__btn carousel__btn--".concat(a),"aria-label":"Slide ".concat(a),onClick:function(){return t(a)}})},Pe=[{id:1,name:"phones",src:"./img/showcase-carousel/first.jpg"},{id:2,name:"tablets",src:"./img/showcase-carousel/second.jpg"},{id:3,name:"accessories",src:"./img/showcase-carousel/third.jpg"}],Te=function(){var e=Object(n.useState)(0),t=Object(_.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(0),l=Object(_.a)(s,2),o=l[0],i=l[1],u=Object(n.useState)(0),m=Object(_.a)(u,2),d=m[0],p=m[1],f=Pe.length-1,E=Object(n.useCallback)((function(e){null!==e&&p(e.getBoundingClientRect().width)}),[]),b=Object(n.useCallback)((function(e){e===J&&(a<=0?(r(a+d*f),i(f)):(r(a-d),i(o-1))),e===U&&(a>=d*f?(r(0),i(0)):(r(a+d),i(o+1)))}),[a,d,o,f]);Object(n.useEffect)((function(){var e=setInterval((function(){return b(U)}),4e3);return function(){return clearInterval(e)}}),[b]);var g=Object(n.useCallback)((function(e){r(e<o?a-d*(o-e):a+d*(e-o)),i(e)}),[o,a,d]);return c.a.createElement("div",{className:"carousel section__carousel"},c.a.createElement("div",{className:"carousel__container",ref:E},c.a.createElement(Me,{changeSlide:b,direction:J}),c.a.createElement(Me,{changeSlide:b,direction:U}),c.a.createElement(we,{slides:Pe,moveSize:a,duration:.7}),c.a.createElement(Ce,{slides:Pe,active:o,goToSlide:g})))},xe=function(){var e=be().searchedProducts,t=E(),a=t.history,c=t.search,r=t.location,s=Object(n.useMemo)((function(){return e.filter((function(e){return e.type===ee}))}),[e]),l=Object(n.useMemo)((function(){return e.filter((function(e){return e.type===te}))}),[e]),o="All"===c.get("perPage")?e.length:c.get("perPage"),i=Number(c.get("page"))||1,u=Number(o)||Number(K[0].option),m=Object(n.useMemo)((function(){return i*u}),[i,u]),d=Object(n.useMemo)((function(){return m-u}),[m,u]),p=Object(n.useMemo)((function(){return r.pathname===ae?{numberOfProducts:s.length,currentProducts:s.slice(d,m)}:{numberOfProducts:l.length,currentProducts:l.slice(d,m)}}),[s,l,d,m,r.pathname]),_=p.numberOfProducts,f=void 0===_?0:_,b=p.currentProducts;return{currentProducts:void 0===b?e:b,numberOfProducts:f,changePage:function(e){c.set("page",e.toString()),a.push({search:c.toString()})},queryCondition:Object(n.useCallback)((function(){return c.get("query")?"result":r.pathname===ce?"item":"model"}),[c,r.pathname]),perPage:u,page:i,search:c,phones:s,tablets:l,location:r}},Re=function(e){var t=e.title,a=xe(),r=a.phones,s=a.tablets,o=a.queryCondition,i=Object(l.c)(L),u=t.toLowerCase(),m=Object(n.useMemo)((function(){switch(!0){case u.includes(Q.phone):return r.length;case u.includes(Q.tablet):return s.length;case u.includes(Q.favorites):return i.length;default:return 0}}),[r,s,i,u]);return c.a.createElement("p",{className:"products-amount categories__amount"},m," ",o(),1!==m&&"s")},Ae=function(e){var t=e.title,a=e.link;return c.a.createElement("div",{className:"categories__category"},c.a.createElement(o.b,{to:"/".concat(a),className:"categories__link"},c.a.createElement("div",{className:"categories__photo"},c.a.createElement("img",{className:"categories__image",src:"./img/categories/category-".concat(a,".jpg"),alt:a})),c.a.createElement("h3",{className:"categories__title"},t),c.a.createElement(Re,{title:t})))},Fe=[{title:"Mobile phones",link:"phones"},{title:"Tablets",link:"tablets"},{title:"Accessories",link:"accessories"}],Ie=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ke,{title:"Shop by category"}),c.a.createElement("div",{className:"categories"},Fe.map((function(e){var t=e.title,a=e.link;return c.a.createElement(Ae,{key:t,title:t,link:a})}))))},Le=function(){return c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"visually-hidden"},"React Products Catalog"),c.a.createElement("section",{className:"section"},c.a.createElement(Te,null)),c.a.createElement("section",{className:"section"},c.a.createElement(Se,{title:re})),c.a.createElement("section",{className:"section"},c.a.createElement(Ie,null)),c.a.createElement("section",{className:"section"},c.a.createElement(Se,{title:se})))},Be=function(e){var t,a=e.label,n=e.link,r=e.isLast,s=(null===(t=Object(l.c)(F).find((function(e){return e.id===a})))||void 0===t?void 0:t.name)||a;return c.a.createElement("li",{className:"breadcrumbs__item"},c.a.createElement("span",{className:"breadcrumbs__arrow"}),r?c.a.createElement("span",{className:"breadcrumbs__last"},s):c.a.createElement(o.c,{to:n,className:"breadcrumbs__link",activeClassName:"breadcrumbs__link--active"},s))},De=function(){var e=Object(i.g)(),t=Object(n.useMemo)((function(){return e.pathname.split("/").slice(1)}),[e]),a=Object(n.useMemo)((function(){return t.reduce((function(e,t){return[].concat(Object(P.a)(e),["".concat(e,"/").concat(t)])}),[])}),[t]);return c.a.createElement("ul",{className:"breadcrumbs section__breadcrumbs"},c.a.createElement(o.c,{to:"/",className:"breadcrumbs__item breadcrumbs__home",activeClassName:"breadcrumb__link--active"}),a.map((function(e,n){return c.a.createElement(Be,{label:t[n],link:e,key:e,isLast:n===a.length-1})})))},ze=function(){var e=xe().search,t=be().searchedProducts,a=Object(n.useMemo)((function(){return t.length>0}),[t]);return c.a.createElement("div",{className:"container"},c.a.createElement("section",{className:"section"},a?c.a.createElement(c.a.Fragment,null,!e.get("query")&&c.a.createElement(c.a.Fragment,null,c.a.createElement(De,null),c.a.createElement(ke,{title:ue})),a&&c.a.createElement(Re,{title:Q.favorites}),c.a.createElement("div",{className:"products section__products"},t.map((function(e){return c.a.createElement(Oe,Object.assign({key:e.id},e))})))):c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"section__no-favorites-info"},"Favorites list is empty.",c.a.createElement("br",null),"Please, take a look at our new models."),c.a.createElement(Se,{title:se}))))},qe=function(){var e=Object(i.f)();return c.a.createElement("button",{type:"button",className:"button-back",onClick:function(){return e.goBack()}},"Back")},Ve=function(e){var t=e.images,a=e.currentImageLink,n=e.title,r=e.handleClick;return c.a.createElement("div",{className:"gallery__thumbnails"},t.map((function(e,t){return c.a.createElement("div",{className:G()({gallery__thumbnail:!0,"gallery__thumbnail--active":a.includes(e)}),key:e},c.a.createElement("a",{href:"#!",className:"gallery__link",onClick:r},c.a.createElement("img",{src:e,alt:"".concat(n," - ").concat(t+1),className:"gallery__img"})))})))},We=function(e){var t=e.images,a=e.title,r=Object(n.useState)(t[0]),s=Object(_.a)(r,2),l=s[0],o=s[1];Object(n.useEffect)((function(){o(t[0])}),[t]);return c.a.createElement("div",{className:"gallery"},c.a.createElement(Ve,{images:t,title:a,handleClick:function(e){e.preventDefault();var t=e.target.src;t&&o(t)},currentImageLink:l}),c.a.createElement("div",{className:"gallery__photo gallery__photo--lg"},c.a.createElement("img",{src:l,alt:a,className:"gallery__img"})))},He=function(e){var t=e.display,a=e.hardware,n=e.storage,r=e.android,s=e.battery,l=e.sizeAndWeight,o=e.shortened;return c.a.createElement(c.a.Fragment,null,o?c.a.createElement("div",{className:"product__specs"},c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Screen"),c.a.createElement("span",{className:"product__spec-info"},t.screenSize)),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Resolution"),c.a.createElement("span",{className:"product__spec-info"},t.screenResolution)),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Battery"),c.a.createElement("span",{className:"product__spec-info"},s.type)),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"RAM"),c.a.createElement("span",{className:"product__spec-info"},n.ram||"1000 MB"))):c.a.createElement("div",{className:"product__specs product__specs--text-md"},c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Screen"),c.a.createElement("span",{className:"product__spec-info"},t.screenSize)),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Resolution"),c.a.createElement("span",{className:"product__spec-info"},t.screenResolution)),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Processor"),c.a.createElement("span",{className:"product__spec-info"},a.cpu)),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Storage"),c.a.createElement("span",{className:"product__spec-info"},n.flash||"32000MB")),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"RAM"),c.a.createElement("span",{className:"product__spec-info"},n.ram||"1000 MB")),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"OS"),c.a.createElement("span",{className:"product__spec-info"},r.os)),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Battery"),c.a.createElement("span",{className:"product__spec-info"},s.type)),c.a.createElement("div",{className:"product__spec"},c.a.createElement("span",{className:"product__spec-title"},"Weight"),c.a.createElement("span",{className:"product__spec-info"},l.weight))))},Ze=function(e){var t=e.description,a=e.additionalFeatures;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"product__heading"},"About"),c.a.createElement("p",{className:"product__paragraph"},t),a&&c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{className:"product__subheading"},"Features"),c.a.createElement("p",{className:"product__paragraph"},a)))},Ge=function(){return c.a.createElement("div",{className:"container"},c.a.createElement("img",{alt:"Guess i'll die",src:"https://i.kym-cdn.com/photos/images/original/001/285/460/8b6.jpg"}))},Je=function(){var e=Object(l.b)(),t=E().match,a=Object(n.useState)(),r=Object(_.a)(a,2),s=r[0],o=r[1],i=Object(l.c)(I),u=Object(l.c)(F),m=Object(n.useMemo)((function(){return u.find((function(e){return e.id===t.params.productId}))}),[u,t]);return Object(n.useEffect)((function(){var a;e((a=t.params.productId,function(){var e=Object(N.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(a);case 2:n=e.sent,t(x(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),o(m)}),[e,t,m]),s&&i?c.a.createElement("div",{className:"container"},c.a.createElement("article",{className:"product"},c.a.createElement("section",{className:"section product__section"},c.a.createElement(De,null),c.a.createElement(qe,null),c.a.createElement(ke,{title:i.name}),c.a.createElement("div",{className:"product__grid"},c.a.createElement("div",{className:"product__column"},c.a.createElement("div",{className:"product__gallery"},c.a.createElement(We,{images:i.images,title:i.name}))),c.a.createElement("div",{className:"product__column"},c.a.createElement("div",{className:"product__flex-wrap"},c.a.createElement(ve,{price:s.price,discount:s.discount,styleSize:_e}),c.a.createElement("span",{className:"product__id"},"ID: ".concat(s.id))),c.a.createElement("div",{className:"product__flex-wrap product__buttons"},c.a.createElement(Ne,{title:me,styleSize:de}),c.a.createElement(he,{productId:s.id,styleSize:pe})),c.a.createElement(He,Object.assign({},i,{shortened:!0}))),c.a.createElement("div",{className:"product__column"},c.a.createElement(Ze,i)),c.a.createElement("div",{className:"product__column"},c.a.createElement("h3",{className:"product__heading"},"Tech specs"),c.a.createElement(He,i)))),c.a.createElement("section",{className:"section"},c.a.createElement(Se,{title:le,selectedProduct:s})))):c.a.createElement(Ge,null)},Ue=function(e){for(var t=e.total,a=e.perPage,n=e.page,r=e.changePage,s=[],l=1;l<=Math.ceil(t/a);l+=1)s.push(l);return c.a.createElement("div",{className:"pagination section__pagination"},c.a.createElement("button",{type:"button","aria-label":"Go left",className:"pagination__button pagination__button--left",onClick:function(){return r(n-1)},disabled:1===n}),c.a.createElement("ul",{className:"pagination__list"},s.map((function(e){return c.a.createElement("li",{className:"pagination__item",key:e},c.a.createElement("button",{type:"button",onClick:function(){return r(e)},className:G()({pagination__button:!0,"pagination__button--active":n===e})},e))}))),c.a.createElement("button",{type:"button","aria-label":"Go right",className:"pagination__button pagination__button--right",onClick:function(){return r(n+1)},disabled:n===s.length}))},Xe=function(e){var t=e.isListOpen;return c.a.createElement("span",{className:G()({dropdown__arrow:!0,"dropdown__arrow--up":t})})},$e=function(e){var t=e.list,a=e.heading,r=function(e,t){var a=Object(n.useState)(!1),c=Object(_.a)(a,2),r=c[0],s=c[1],l=Object(n.useState)(e[0].option),o=Object(_.a)(l,2),i=o[0],u=o[1],m=Object(n.useCallback)((function(){return s(!1)}),[]),d=E(),p=d.search,f=d.history;Object(n.useEffect)((function(){r?window.addEventListener("click",m):window.removeEventListener("click",m)}),[r,m]);var b=Object(n.useCallback)((function(){return s(!r)}),[r]),g=Object(n.useCallback)((function(e){u(e),t===$&&p.set("sortBy",e),t===X&&("All"===e&&p.set("perPage",e),p.set("perPage",e)),p.delete("page"),f.push({search:p.toString()})}),[f,p,t]);return{toggleList:b,selectedOption:i,isListOpen:r,handleSort:g}}(t,a),s=r.toggleList,l=r.selectedOption,o=r.isListOpen,i=r.handleSort,u=Object(n.useCallback)((function(e,t){e.preventDefault(),i(t)}),[i]);return c.a.createElement("div",{className:"dropdown"},c.a.createElement("p",{className:"dropdown__heading"},a),c.a.createElement("div",{className:"dropdown__wrapper"},c.a.createElement("button",{type:"button",className:"dropdown__header",onClick:s},l,c.a.createElement(Xe,{isListOpen:o})),c.a.createElement("ul",{className:G()({dropdown__list:!0,"dropdown__list--is-open":o})},t.map((function(e){var t=e.option;return c.a.createElement("li",{key:t},c.a.createElement("a",{href:"#!",className:G()({"dropdown__list-item":!0,"dropdown__list-item--active":l===t}),onClick:function(e){return u(e,t)}},t))})))))},Ye=function(){var e=xe(),t=e.currentProducts,a=e.numberOfProducts;return c.a.createElement(c.a.Fragment,null,a?c.a.createElement("div",{className:"products section__products"},t.map((function(e){return c.a.createElement(Oe,Object.assign({key:e.id},e))}))):c.a.createElement("p",{className:"section__no-products-info"},"No products with such title...try again."))},Ke=function(){var e=xe(),t=e.numberOfProducts,a=e.changePage,r=e.perPage,s=e.page,l=e.search,o=E().location,i=Object(n.useMemo)((function(){switch(o.pathname){case ae:return{pageHeading:oe,productAmountTitle:Q.phone};case ne:return{pageHeading:ie,productAmountTitle:Q.tablet};default:return{pageHeading:"Products",productAmountTitle:"Models"}}}),[o]),u=i.pageHeading,m=i.productAmountTitle;return c.a.createElement("div",{className:"container"},c.a.createElement("section",{className:"section"},!l.get("query")&&c.a.createElement(c.a.Fragment,null,c.a.createElement(De,null),c.a.createElement(ke,{title:u})),0!==t&&c.a.createElement(Re,{title:m}),!l.get("query")&&c.a.createElement("div",{className:"section__dropdowns"},c.a.createElement($e,{heading:$,list:Y}),c.a.createElement($e,{heading:X,list:K})),c.a.createElement(Ye,null),t>r&&c.a.createElement(Ue,{total:t,perPage:r,page:s,changePage:a})))},Qe=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ge,null),c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:["/","/home"],component:Le}),c.a.createElement(i.a,{exact:!0,path:["/phones","/tablets"],component:Ke}),c.a.createElement(i.a,{exact:!0,path:"/favorites",component:ze}),c.a.createElement(i.a,{exact:!0,path:"/:productType/:productId",component:Je}),c.a.createElement(i.a,{component:Ge})),c.a.createElement(m,null))};a(43);s.a.render(c.a.createElement(l.a,{store:V},c.a.createElement(o.a,null,c.a.createElement(Qe,null))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.c5314113.chunk.js.map