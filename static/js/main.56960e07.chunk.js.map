{"version":3,"sources":["components/Logo/Logo.tsx","components/Footer/Footer.tsx","components/Header/NavItem.tsx","components/_hooks/useRouter.ts","components/Header/Nav.tsx","redux/products.ts","common/helpers/api.ts","redux/favorites.ts","redux/details.ts","redux/cart.ts","redux/error.ts","redux/index.ts","common/enums.d.ts","common/constants.ts","components/Header/Favorites.tsx","components/Cart/Cart.tsx","common/helpers/debounce.ts","components/_hooks/useSearch.ts","components/Header/Search.tsx","components/Header/Sandwich.tsx","components/Header/Header.tsx","components/Buttons/FavoriteBtn.tsx","components/ProductCard/ProductPrice.tsx","components/Buttons/AddProductBtn.tsx","components/ProductCard/ProductCard.tsx","components/ShowcaseBlock/SliderControl.tsx","components/ShowcaseBlock/SliderProducts.tsx","components/_hooks/useShowcaseBlock.ts","components/Heading/Heading.tsx","components/ShowcaseBlock/ShowcaseBlock.tsx","components/Carousel/CarouselSlides.tsx","components/Carousel/CarouselDots.tsx","components/Carousel/CarouselControl.tsx","components/Carousel/Carousel.tsx","components/_hooks/useProductsList.ts","components/ProductsAmount/ProductsAmount.tsx","components/Categories/Category.tsx","components/Categories/Categories.tsx","pages/HomePage.tsx","components/Breadcrumbs/Breadcrumb.tsx","components/Breadcrumbs/Breadcrumbs.tsx","pages/FavoritesPage.tsx","components/Buttons/BackBtn.tsx","components/ProductGallery/GalleryThumbnails.tsx","components/ProductGallery/ProductGallery.tsx","pages/ProductDetailsPage/ProductTechSpecs.tsx","pages/ProductDetailsPage/ProductDescription.tsx","pages/ProductDetailsPage/ProductShortSpecs.tsx","components/Loader/Loader.tsx","pages/ErrorPage.tsx","pages/ProductDetailsPage/ProductDetailsPage.tsx","components/Pagination/Pagination.tsx","components/Dropdown/DropdownArrow.tsx","components/Dropdown/Dropdown.tsx","components/Dropdown/useDropdown.ts","components/ProductsList/ProductsList.tsx","pages/ProductsPage.tsx","components/Cart/CartItem.tsx","components/Cart/CartTotal.tsx","pages/CartPage.tsx","pages/AccessoriesPage.tsx","components/Cart/Checkout.tsx","App.tsx","index.tsx"],"names":["Logo","className","to","src","alt","Footer","backToTop","useCallback","window","scrollTo","top","behavior","type","aria-label","onClick","NavItem","props","title","link","exact","onMount","closeNavMenu","ref","useRef","useEffect","activeClassName","useRouter","match","useRouteMatch","location","useLocation","pathname","history","useHistory","search","URLSearchParams","navList","Nav","isNavOpen","useState","coords","setCoords","hash","current","rootPath","split","node","getBoundingClientRect","cn","nav","map","key","style","width","left","x","setProducts","products","productsReducer","action","API_URL","fetchProducts","a","fetch","response","json","fetchProductDetails","productId","favoritesReducer","favorites","product","filter","id","setDetails","details","detailsReducer","deleteFromCart","price","initialState","cartItems","cartItemsReducer","state","item","quantity","find","setError","error","reducer","rootReducer","combineReducers","cart","cartReducer","errorReducer","getProducts","getDetails","getFavorites","getCartItems","getPrice","loadProducts","dispatch","persistedState","localStorage","getItem","JSON","parse","store","createStore","composeWithDevTools","applyMiddleware","thunk","subscribe","setItem","stringify","getState","SORT","DIRECTIONS","DROPDOWN_HEADINGS","SORT_TYPES","option","NEWEST","FROM_A_TO_Z","FROM_Z_TO_A","CHEAPEST","PER_PAGE","PRODUCT_PATHS","phone","tablet","PRODUCT_TYPES","LOCATIONS","phones","tablets","SHOWCASE_HEADINGS","SECTION_HEADINGS","PRICE_TEXT_SIZES","Favorites","useSelector","doFavoritesExist","useMemo","length","favorites__mobile","favorites__button","Cart","filledCart","totalItems","reduce","acc","cart__mobile","cart__button","debounce","f","delay","timer","args","clearTimeout","setTimeout","useSearch","inputEl","useDispatch","query","get","sortBy","inputValue","setInputValue","historyPushWithDebounce","value","set","toLowerCase","delete","push","toString","searchProducts","e","target","searchedProducts","name","includes","slice","sort","b","age","localeCompare","searchReset","handleResetAndFocus","focus","onKeyDown","Search","placeholderItems","placeholder","onChange","search__button","disabled","Sandwich","toggleSandwich","href","sandwich","preventDefault","Header","setOpen","path","document","body","classList","toggle","remove","searchInputIsHidden","FavoriteBtn","styleSize","addToFavorites","prodId","p","checked","setFavorite","isInFavorites","some","htmlFor","ProductPrice","discount","preparedFullPrice","discountVisible","AddProductBtn","productPrice","handleAddingToCart","addToCart","isInCart","ProductCard","imageUrl","screen","capacity","ram","productCardRef","preparedScreen","replace","preparedCapacity","parseInt","preparedRam","SliderControl","handleSlide","direction","position","maxPosition","isLeft","isRight","isStart","isEnd","onSlide","classNames","slider__button","SliderProducts","selectedProduct","setPosition","cardWidth","setCardWidth","containerWidth","setContainerWidth","itemWidth","hotPricesProducts","newProducts","alsoLikeProducts","selectedProductPrice","selectedProductName","currentProducts","carouselWidth","controlsAreHidden","stepWidth","sliderContainerRef","step","animationDuration","frameSize","useShowcaseBlock","transform","transition","Heading","ShowcaseBlock","CarouselSlides","slides","moveSize","duration","transitionDuration","CarouselDots","active","goToSlide","slide","index","carousel__dot","CarouselControl","changeSlide","carouselImages","Carousel","setMoveSize","activeSlide","setActiveSlide","slideWidth","setSlideWidth","slidesLeft","slideEl","carouselWidthHasChanged","currentSlideWidth","interval","setInterval","clearInterval","handleDotClick","useProductsList","searchPerPageCheck","page","Number","perPage","indexOfLast","indexOfFirst","numberOfProducts","changePage","pageNumber","queryCondition","ProductsAmount","preparedTitle","amount","Category","categories","Categories","HomePage","Breadcrumb","label","isLast","preparedLabel","Breadcrumbs","preparedLabels","preparedBreadcrumbs","crumb","FavoritesPage","BackBtn","goBack","GalleryThumbnails","images","currentImageLink","handleClick","gallery__thumbnail","ProductGallery","setCurrentImageLink","ProductTechSpecs","display","hardware","storage","android","battery","sizeAndWeight","screenSize","screenResolution","cpu","flash","os","weight","ProductDescription","description","additionalFeatures","ProductShortSpecs","Loader","ErrorPage","textAlign","textTransform","opacity","marginTop","height","ProductDetailsPage","useParams","productType","setProduct","productDetails","currentProduct","loadDetails","Object","prototype","hasOwnProperty","call","Pagination","total","pageNumbers","i","Math","ceil","number","pagination__button","DropdownArrow","isListOpen","dropdown__arrow","Dropdown","list","heading","setListOpen","selectedOption","setSelectedOption","closeDropdown","addEventListener","removeEventListener","toggleList","handleSort","useDropdown","onSort","dropdown__list","ProductsList","ProductsPage","pageHeading","productAmountTitle","CartItem","cartItem","handleDeletingItem","handleAdding","addQuantity","handleSubtracting","subtractQuantity","buttonDisabled","CartTotal","handleResetCart","CartPage","AccessoriesPage","marginBottom","maxWidth","margin","Checkout","App","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.56960e07.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const Logo = () => {\n  return (\n    <div className=\"logo\">\n      <Link to=\"/\" className=\"logo__link\">\n        <img\n          src=\"./img/logo.svg\"\n          alt=\"logo\"\n          className=\"logo__img\"\n        />\n      </Link>\n    </div>\n  );\n};\n","import React, { useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Logo } from '../Logo/Logo';\n\nexport const Footer = () => {\n  const backToTop = useCallback(() => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  }, []);\n\n  return (\n    <footer className=\"footer\">\n      <div className=\"container footer__container\">\n        <Logo />\n        <div className=\"footer__links\">\n          <Link to=\"/\" className=\"footer__link\">Github</Link>\n          <Link to=\"/\" className=\"footer__link\">Contacts</Link>\n          <Link to=\"/\" className=\"footer__link\">Rights</Link>\n        </div>\n        <div className=\"footer__top-button-container\">\n          <p className=\"footer__paragraph\">Back to top</p>\n          <button\n            type=\"button\"\n            aria-label=\"BackToTop\"\n            className=\"footer__top-button\"\n            onClick={backToTop}\n          />\n        </div>\n      </div>\n    </footer>\n  );\n};\n","import React, { useEffect, useRef } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nexport const NavItem = (props: NavItemProps) => {\n  const {\n    title, link, exact, onMount, closeNavMenu,\n  } = props;\n\n  const ref = useRef(null);\n\n  useEffect(() => {\n    onMount(link, ref);\n  }, [onMount, link, ref]);\n\n  return (\n    <li className=\"nav__item\">\n      <NavLink\n        to={link}\n        ref={ref}\n        exact={exact}\n        className=\"nav__link\"\n        onClick={closeNavMenu}\n        activeClassName=\"nav__link--active\"\n      >\n        {title}\n      </NavLink>\n    </li>\n  );\n};\n","import { useHistory, useLocation, useRouteMatch } from 'react-router-dom';\n\nexport const useRouter = () => {\n  const match: Match = useRouteMatch();\n  const location = useLocation();\n  const { pathname } = useLocation();\n  const history = useHistory();\n  const search = new URLSearchParams(location.search);\n\n  return {\n    match,\n    location,\n    history,\n    search,\n    pathname,\n  };\n};\n","import React, {\n  useCallback, useEffect, useRef, useState,\n} from 'react';\nimport cn from 'classnames';\nimport { NavItem } from './NavItem';\nimport { useRouter } from '../_hooks/useRouter';\n\nconst navList: NavList = [\n  { title: 'Home', link: '/', exact: true },\n  { title: 'Phones', link: '/phones', exact: false },\n  { title: 'Tablets', link: '/tablets', exact: false },\n  { title: 'Accessories', link: '/accessories', exact: false },\n];\n\nexport const Nav = ({ isNavOpen, closeNavMenu }: NavProps) => {\n  const { pathname } = useRouter();\n  const [coords, setCoords] = useState<any>(null);\n  const hash: Record<string, any> = useRef({});\n\n  const onMount = useCallback((link: string, ref) => {\n    hash.current = { ...hash.current, [link]: ref };\n  }, []);\n\n  useEffect(() => {\n    const rootPath = `/${pathname.split('/')[1]}`;\n\n    if (hash.current[rootPath]) {\n      const node = hash.current[rootPath];\n\n      setCoords(node.current.getBoundingClientRect());\n    } else {\n      setCoords(null);\n    }\n  }, [pathname, hash]);\n\n  return (\n    <nav className={cn({\n      nav: true,\n      'nav--opened': isNavOpen,\n    })}\n    >\n      <ul className=\"nav__list\">\n        {navList.map(({ title, link, exact }) => (\n          <NavItem\n            key={title}\n            title={title}\n            link={link}\n            exact={exact}\n            onMount={onMount}\n            closeNavMenu={closeNavMenu}\n          />\n        ))}\n        {coords && (\n          <span\n            className=\"nav__active-element\"\n            style={{\n              width: `${coords.width}px`,\n              left: `${coords.x}px`,\n            }}\n          />\n        )}\n      </ul>\n    </nav>\n  );\n};\n","import { Action } from 'redux';\n\nconst SET_PRODUCTS = 'SET_PRODUCTS';\n\nexport const setProducts = (products: Product[]) => ({ type: SET_PRODUCTS, products });\n\ntype setProductsAction = Action<typeof SET_PRODUCTS> & {\n  products: Product[];\n};\n\ntype AllowedActions = setProductsAction;\n\nconst productsReducer = (products = [], action: AllowedActions) => {\n  switch (action.type) {\n    case SET_PRODUCTS:\n      return action.products;\n\n    default:\n      return products;\n  }\n};\n\nexport default productsReducer;\n","const API_URL = 'https://mate-academy.github.io/react_phone-catalog/api/products';\n\nexport const fetchProducts = async (): Promise<Product[]> => {\n  const response = await fetch(`${API_URL}.json`);\n\n  return response.json();\n};\n\nexport const fetchProductDetails = async (productId: string): Promise<ProductDetails> => {\n  const response = await fetch(`${API_URL}/${productId}.json`);\n\n  return response.json();\n};\n","import { Action } from 'redux';\n\nconst SET_FAVORITE = 'SET_FAVORITES';\nconst DELETE_FAVORITE = 'DELETE_FAVORITE';\n\nexport const setFavorite = (product: Product | undefined) => ({ type: SET_FAVORITE, product });\nexport const deleteFavorite = (id: string) => ({ type: DELETE_FAVORITE, id });\n\ntype setFavoriteAction = Action<typeof SET_FAVORITE> & {\n  product: Product;\n};\ntype deleteFavoriteAction = Action<typeof DELETE_FAVORITE> & {\n  id: keyof Product;\n};\ntype AllowedActions = setFavoriteAction | deleteFavoriteAction;\n\nconst favoritesReducer = (favorites: Product[] = [], action: AllowedActions) => {\n  switch (action.type) {\n    case SET_FAVORITE:\n      return [...favorites, action.product];\n\n    case DELETE_FAVORITE:\n      return favorites.filter(product => product.id !== action.id);\n\n    default:\n      return favorites;\n  }\n};\n\nexport default favoritesReducer;\n","import { AnyAction } from 'redux';\n\nconst SET_DETAILS = 'SET_DETAILS';\n\nexport const setDetails = (details: ProductDetails) => ({ type: SET_DETAILS, details });\n\nconst detailsReducer = (details = {}, action: AnyAction) => {\n  switch (action.type) {\n    case SET_DETAILS:\n      return action.details;\n\n    default:\n      return details;\n  }\n};\n\nexport default detailsReducer;\n","import { Action } from 'redux';\n\nconst ADD_TO_CART = 'ADD_TO_CART';\nconst DELETE_FROM_CART = 'DELETE_FROM_CART';\nconst ADD_QUANTITY = 'ADD_QUANTITY';\nconst SUBTRACT_QUANTITY = 'SUBTRACT_QUANTITY';\nconst RESET_CART = 'RESET_CART';\n\nexport const addToCart = (product: Product | undefined, id: string, price: number) => (\n  {\n    type: ADD_TO_CART, product, id, price,\n  }\n);\n\nexport const deleteFromCart = (id: string, price: number) => (\n  { type: DELETE_FROM_CART, id, price }\n);\n\nexport const resetCart = () => ({ type: RESET_CART });\n\nexport const addQuantity = (id: string, price: number) => (\n  { type: ADD_QUANTITY, id, price }\n);\n\nexport const subtractQuantity = (id: string, price: number) => (\n  { type: SUBTRACT_QUANTITY, id, price }\n);\n\ntype addToCartAction = Action<typeof ADD_TO_CART> & {\n  product: Product;\n  price: number;\n  id: string;\n};\n\ntype deleteFromCartAction = Action<typeof DELETE_FROM_CART> & {\n  id: string;\n  price: number;\n};\n\ntype addQuantityAction = Action<typeof ADD_QUANTITY> & {\n  price: number;\n  id: string;\n};\n\ntype subtractQuantityAction = Action<typeof SUBTRACT_QUANTITY> & {\n  price: number;\n  id: string;\n};\n\ntype resetCartAction = Action<typeof RESET_CART>;\n\ntype AllowedActions = addToCartAction | deleteFromCartAction\n| addQuantityAction | subtractQuantityAction | resetCartAction;\n\ntype stateType = {\n  cartItems: Product[];\n  price: number;\n};\n\nconst initialState: stateType = {\n  cartItems: [],\n  price: 0,\n};\n\nconst cartItemsReducer = (state = initialState, action: AllowedActions) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      return {\n        ...state,\n        cartItems: [...state.cartItems, action.product]\n          .map(item => {\n            if (item.id === action.id) {\n              return { ...item, quantity: 1 };\n            }\n\n            return { ...item, quantity: item.quantity };\n          }),\n        price: state.price + action.price,\n      };\n\n    case DELETE_FROM_CART:\n      return {\n        ...state,\n        cartItems: state.cartItems.filter(item => item.id !== action.id),\n        price: state.cartItems.find(\n          item => item.id === action.id,\n        )!.quantity! > 1\n          ? state.price - state.cartItems.find(\n            item => item.id === action.id,\n          )!.quantity! * action.price\n          : state.price - action.price,\n      };\n\n    case ADD_QUANTITY:\n      return {\n        ...state,\n        cartItems: state.cartItems.map(item => ({\n          ...item,\n          quantity: item.id === action.id\n            ? item.quantity! + 1\n            : item.quantity,\n        })),\n        price: state.price + action.price,\n      };\n\n    case SUBTRACT_QUANTITY:\n      return {\n        ...state,\n        cartItems: state.cartItems.map(item => ({\n          ...item,\n          quantity: item.id === action.id\n            ? item.quantity! - 1\n            : item.quantity,\n        })),\n        price: state.price - action.price,\n      };\n\n    case RESET_CART:\n      return {\n        cartItems: [],\n        price: 0,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default cartItemsReducer;\n","import { Action } from 'redux';\n\nconst SET_ERROR = 'SET_ERROR';\n\ntype SetError = Action<typeof SET_ERROR> & {\n  error: string;\n};\n\nexport const setError = (error: string) => (\n  { type: SET_ERROR, error }\n);\n\ntype AllowedActions = SetError;\n\nconst reducer = (error = '', action: AllowedActions): string => {\n  switch (action.type) {\n    case SET_ERROR:\n      return action.error;\n\n    default:\n      return error;\n  }\n};\n\nexport default reducer;\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport { Dispatch } from 'react';\nimport productsReducer, { setProducts } from './products';\nimport { fetchProductDetails, fetchProducts } from '../common/helpers/api';\nimport favoritesReducer from './favorites';\nimport detailsReducer, { setDetails } from './details';\nimport cartReducer from './cart';\nimport errorReducer, { setError } from './error';\n\n\nconst rootReducer = combineReducers({\n  products: productsReducer,\n  details: detailsReducer,\n  favorites: favoritesReducer,\n  cart: cartReducer,\n  error: errorReducer,\n});\n\ntype RootState = ReturnType<typeof rootReducer>;\n\nexport const getProducts = (state: RootState) => state.products;\nexport const getDetails = (state: RootState) => state.details;\nexport const getFavorites = (state: RootState) => state.favorites;\nexport const getCartItems = (state: RootState) => state.cart.cartItems;\nexport const getPrice = (state: RootState) => state.cart.price;\n\nexport const loadProducts = () => {\n  return async (dispatch: Dispatch<any>) => {\n    try {\n      const products = await fetchProducts();\n\n      dispatch(setProducts(products));\n    } catch (error) {\n      dispatch(setError('Error occurred when loading data'));\n    }\n  };\n};\n\nexport const loadDetails = (productId: string) => {\n  return async (dispatch: Dispatch<any>) => {\n    try {\n      const details = await fetchProductDetails(productId);\n\n      dispatch(setDetails(details));\n    } catch (error) {\n      dispatch(setError('Error occurred when loading data'));\n    }\n  };\n};\n\nconst persistedState = localStorage.getItem('reduxState')\n  ? JSON.parse(localStorage.getItem('reduxState') || '')\n  : {};\n\nconst store = createStore(\n  rootReducer,\n  persistedState,\n  composeWithDevTools(applyMiddleware(thunk)),\n);\n\nstore.subscribe(() => {\n  localStorage.setItem('reduxState', JSON.stringify(store.getState()));\n});\n\nexport default store;\n","export enum SORT {\n  NEWEST = 'Newest',\n  FROM_A_TO_Z = 'From A to Z',\n  FROM_Z_TO_A = 'From Z to A',\n  CHEAPEST = 'Cheapest',\n}\n","import { SORT } from './enums.d';\n\nexport const DIRECTIONS = {\n  left: 'left',\n  right: 'right',\n};\n\nexport const DROPDOWN_HEADINGS = {\n  perPage: 'Items on page',\n  sortBy: 'Sort by',\n};\n\nexport const SORT_TYPES = [\n  { option: SORT.NEWEST },\n  { option: SORT.FROM_A_TO_Z },\n  { option: SORT.FROM_Z_TO_A },\n  { option: SORT.CHEAPEST },\n];\n\nexport const PER_PAGE = [\n  { option: '4' },\n  { option: '8' },\n  { option: '16' },\n  { option: 'All' },\n];\n\nexport const PRODUCT_PATHS: ProductPaths = {\n  phone: 'phones',\n  tablet: 'tablets',\n  favorites: 'favorites',\n};\n\nexport const PRODUCT_TYPES = {\n  phone: 'phone',\n  tablet: 'tablet',\n};\n\nexport const LOCATIONS = {\n  phones: '/phones',\n  tablets: '/tablets',\n  favorites: '/favorites',\n  cart: '/cart',\n};\n\nexport const SHOWCASE_HEADINGS = {\n  hotPrices: 'Hot prices',\n  newModels: 'Brand new models',\n  alsoLike: 'You may also like',\n};\n\nexport const SECTION_HEADINGS = {\n  phones: 'Mobile phones',\n  tablets: 'Tablets',\n  favorites: 'Favorites',\n  cart: 'Cart',\n};\n\nexport const PRICE_TEXT_SIZES = {\n  large: 'product-price--lg',\n};\n","import React, { useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport cn from 'classnames';\nimport { useSelector } from 'react-redux';\nimport { getFavorites } from '../../redux';\nimport { useRouter } from '../_hooks/useRouter';\nimport { LOCATIONS } from '../../common/constants';\n\nexport const Favorites = ({ isNavOpen, closeNavMenu }: FavoritesProps) => {\n  const favorites: Product[] = useSelector(getFavorites);\n  const { pathname } = useRouter();\n\n  const doFavoritesExist = useMemo(\n    () => favorites.length > 0,\n    [favorites.length],\n  );\n\n  return (\n    <div className={cn({\n      favorites: true,\n      favorites__mobile: isNavOpen,\n    })}\n    >\n      <Link\n        to=\"/favorites\"\n        className={cn({\n          favorites__button: true,\n          'favorites__button--active': pathname === LOCATIONS.favorites,\n        })}\n        onClick={closeNavMenu}\n      >\n        {doFavoritesExist\n        && <span className=\"favorites__indicator\">{favorites.length}</span>}\n      </Link>\n    </div>\n  );\n};\n","import React, { useMemo } from 'react';\nimport cn from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getCartItems } from '../../redux';\nimport { LOCATIONS } from '../../common/constants';\nimport { useRouter } from '../_hooks/useRouter';\n\nexport const Cart = ({ isNavOpen, closeNavMenu }: CartProps) => {\n  const cartItems = useSelector(getCartItems);\n  const { pathname } = useRouter();\n  const filledCart = useMemo(() => cartItems.length > 0, [cartItems]);\n\n  const totalItems = useMemo(\n    () => cartItems.reduce((acc, item) => item.quantity! + acc, 0),\n    [cartItems],\n  );\n\n  return (\n    <div className={cn({\n      cart: true,\n      cart__mobile: isNavOpen,\n    })}\n    >\n      <Link\n        to=\"/cart\"\n        className={cn({\n          cart__button: true,\n          'cart--active': pathname === LOCATIONS.cart,\n        })}\n        onClick={closeNavMenu}\n      >\n        {filledCart\n        && <span className=\"cart__indicator\">{totalItems}</span>}\n      </Link>\n    </div>\n  );\n};\n","function debounce<Params extends any[]>(\n  f: (...args: Params) => any,\n  delay: number,\n): (...args: Params) => void {\n  let timer: NodeJS.Timeout;\n\n  return (...args: Params) => {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      f(...args);\n    }, delay);\n  };\n}\n\nexport default debounce;\n","import React, {\n  useCallback, useEffect, useMemo, useRef, useState,\n} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport debounce from '../../common/helpers/debounce';\nimport { getFavorites, getProducts, loadProducts } from '../../redux';\nimport { SORT } from '../../common/enums.d';\nimport { LOCATIONS } from '../../common/constants';\nimport { useRouter } from './useRouter';\n\nexport const useSearch = () => {\n  const { location, history, search } = useRouter();\n  const inputEl = useRef<HTMLInputElement>(null);\n  const dispatch = useDispatch();\n  const query = useMemo(() => search.get('query') || '', [search]);\n  const sortBy = search.get('sortBy');\n  const [inputValue, setInputValue] = useState(query);\n  const products: Product[] = useSelector(getProducts);\n  const favorites: Product[] = useSelector(getFavorites);\n\n  useEffect(() => {\n    dispatch(loadProducts());\n\n    return () => setInputValue('');\n  }, [dispatch, location.pathname]);\n\n  const historyPushWithDebounce = useCallback(\n    debounce((value: string) => {\n      search.set('query', value.toLowerCase());\n\n      if (!(search.get('query') || '')) {\n        search.delete('query');\n      }\n\n      history.push({ search: search.toString() });\n    }, 500), [],\n  );\n\n  const searchProducts = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const { value } = e.target;\n\n      setInputValue(value);\n      historyPushWithDebounce(value);\n    }, [historyPushWithDebounce],\n  );\n\n  const searchedProducts: Product[] = useMemo(() => {\n    if (location.pathname === LOCATIONS.favorites) {\n      return favorites.filter(({ name }) => (\n        name.toLowerCase().includes(query)\n      ));\n    }\n\n    return products.filter(({ name }) => (\n      name.toLowerCase().includes(query)\n    ))\n      .slice()\n      .sort((a, b) => {\n        switch (sortBy) {\n          case SORT.NEWEST:\n            return a.age - b.age;\n          case SORT.FROM_A_TO_Z:\n            return a.name.localeCompare(b.name);\n          case SORT.FROM_Z_TO_A:\n            return b.name.localeCompare(a.name);\n          case SORT.CHEAPEST:\n            return a.price - b.price;\n          default:\n            return 0;\n        }\n      });\n  }, [products, query, sortBy, favorites, location.pathname]);\n\n  const searchReset = useCallback(() => {\n    setInputValue('');\n\n    if (!(search.get('query') || '')) {\n      search.delete('query');\n    }\n\n    history.push({ search: '' });\n  }, [search, history]);\n\n  const handleResetAndFocus = useCallback(() => {\n    searchReset();\n\n    if (inputEl && inputEl.current) {\n      inputEl.current.focus();\n    }\n  }, [searchReset]);\n\n  const onKeyDown = useCallback(\n    ({ key }: React.KeyboardEvent) => {\n      if (key === 'Escape') {\n        handleResetAndFocus();\n      }\n    }, [handleResetAndFocus],\n  );\n\n  return {\n    inputValue,\n    searchProducts,\n    searchedProducts,\n    searchReset,\n    products,\n    onKeyDown,\n    inputEl,\n    handleResetAndFocus,\n  };\n};\n","import React, { useMemo } from 'react';\nimport cn from 'classnames';\nimport { LOCATIONS } from '../../common/constants';\nimport { useRouter } from '../_hooks/useRouter';\nimport { useSearch } from '../_hooks/useSearch';\n\nexport const Search = () => {\n  const { location } = useRouter();\n  const {\n    inputValue,\n    searchProducts,\n    onKeyDown,\n    handleResetAndFocus,\n    inputEl,\n  } = useSearch();\n\n  const placeholderItems = useMemo(() => {\n    switch (location.pathname) {\n      case LOCATIONS.phones:\n        return 'phones';\n      case LOCATIONS.tablets:\n        return 'tablets';\n      case LOCATIONS.favorites:\n        return 'favorites';\n      default:\n        return 'products';\n    }\n  }, [location.pathname]);\n\n  return (\n    <div className=\"search\">\n      <input\n        ref={inputEl}\n        type=\"text\"\n        value={inputValue}\n        className=\"search__input\"\n        placeholder={`Search in ${placeholderItems}...`}\n        onChange={searchProducts}\n        onKeyDown={onKeyDown}\n      />\n      <button\n        type=\"button\"\n        aria-label=\"Clear input\"\n        className={cn({\n          search__button: true,\n          'search__button--clear': inputValue,\n        })}\n        onClick={handleResetAndFocus}\n        disabled={inputValue.length === 0}\n      />\n    </div>\n  );\n};\n","import React from 'react';\nimport cn from 'classnames';\n\nexport const Sandwich = ({ isNavOpen, toggleSandwich }: SandwichProps) => {\n  return (\n    <a\n      href=\"!#\"\n      className={cn({\n        sandwich: true,\n        'sandwich--clicked': isNavOpen,\n      })}\n      onClick={(e) => {\n        e.preventDefault();\n        toggleSandwich();\n      }}\n    >\n      <span />\n      <span />\n      <span />\n    </a>\n  );\n};\n","import React, { useCallback, useMemo, useState } from 'react';\n\nimport { Logo } from '../Logo/Logo';\nimport { Nav } from './Nav';\nimport { Favorites } from './Favorites';\nimport { Cart } from '../Cart/Cart';\nimport { Search } from './Search';\nimport { LOCATIONS } from '../../common/constants';\nimport { useRouter } from '../_hooks/useRouter';\nimport { Sandwich } from './Sandwich';\n\nexport const Header = () => {\n  const [isNavOpen, setOpen] = useState(false);\n  const { location } = useRouter();\n  const path = location.pathname;\n\n  const toggleSandwich = useCallback(() => {\n    document.body.classList.toggle('nav-open');\n\n    setOpen(!isNavOpen);\n  }, [isNavOpen]);\n\n  const closeNavMenu = useCallback(\n    () => {\n      document.body.classList.remove('nav-open');\n      setOpen(false);\n    },\n    [],\n  );\n\n  const searchInputIsHidden = useMemo(() => (\n    (path === LOCATIONS.phones)\n    || (path === LOCATIONS.tablets)\n    || (path === LOCATIONS.favorites)\n  ), [path]);\n\n  return (\n    <header className=\"header\">\n      <div className=\"header__container\">\n        <div className=\"header__flex-wrap\">\n          <div className=\"header__sandwich\">\n            <Sandwich\n              isNavOpen={isNavOpen}\n              toggleSandwich={toggleSandwich}\n            />\n          </div>\n          <div className=\"header__logo\">\n            <Logo />\n          </div>\n          <div className=\"header__nav\">\n            <Nav\n              isNavOpen={isNavOpen}\n              closeNavMenu={closeNavMenu}\n            />\n          </div>\n        </div>\n        <div className=\"header__flex-wrap\">\n          {searchInputIsHidden && (\n            <Search />\n          )}\n          <Favorites\n            isNavOpen={isNavOpen}\n            closeNavMenu={closeNavMenu}\n          />\n          <Cart\n            isNavOpen={isNavOpen}\n            closeNavMenu={closeNavMenu}\n          />\n        </div>\n      </div>\n    </header>\n  );\n};\n","import React, { useCallback, useMemo } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport cn from 'classnames';\nimport { setFavorite, deleteFavorite } from '../../redux/favorites';\nimport { getFavorites, getProducts } from '../../redux';\n\nexport const FavoriteBtn = ({ productId, styleSize }: FavoriteBtnProps) => {\n  const favorites: Product[] = useSelector(getFavorites);\n  const products: Product[] = useSelector(getProducts);\n  const dispatch = useDispatch();\n\n  const addToFavorites = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>, prodId: string) => {\n      const product = products.find(p => p.id === prodId);\n\n      if (e.target.checked) {\n        dispatch(setFavorite(product));\n      } else {\n        dispatch(deleteFavorite(prodId));\n      }\n    }, [dispatch, products],\n  );\n\n  const isInFavorites = useMemo(() => (\n    favorites.some(product => product.id === productId)\n  ), [favorites, productId]);\n\n  return (\n    <label\n      className={cn(\n        'button-favorite', styleSize,\n      )}\n      htmlFor={`button-favorite__${productId}`}\n    >\n      <input\n        className=\"button-favorite__input\"\n        type=\"checkbox\"\n        id={`button-favorite__${productId}`}\n        checked={isInFavorites}\n        onChange={(e) => addToFavorites(e, productId)}\n      />\n      <span className=\"button-favorite__checkmark\" />\n    </label>\n  );\n};\n","import React, { useMemo } from 'react';\nimport cn from 'classnames';\nimport { useRouter } from '../_hooks/useRouter';\nimport { LOCATIONS } from '../../common/constants';\n\nexport const ProductPrice = ({ price, discount, styleSize }: ProductPriceProps) => {\n  const { pathname } = useRouter();\n  const preparedFullPrice = useMemo(() => (\n    price * (discount / 100) + price\n  ), [price, discount]);\n  const discountVisible = useMemo(\n    () => discount > 0 && pathname !== LOCATIONS.cart,\n    [discount, pathname],\n  );\n\n  return (\n    <>\n      <span className={cn(\n        'product-price', styleSize,\n      )}\n      >\n        {`$${price}`}\n      </span>\n      {discountVisible && (\n        <span className=\"product-discount\">\n          {`$${preparedFullPrice}`}\n        </span>\n      )}\n    </>\n  );\n};\n","import React, { useCallback, useMemo } from 'react';\nimport cn from 'classnames';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getCartItems, getProducts } from '../../redux';\nimport { addToCart, deleteFromCart } from '../../redux/cart';\n\nexport const AddProductBtn = ({ productId, styleSize, productPrice }: PrimaryBtnProps) => {\n  const cartItems: Product[] = useSelector(getCartItems);\n  const products: Product[] = useSelector(getProducts);\n  const dispatch = useDispatch();\n\n\n  const handleAddingToCart = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>, prodId: string) => {\n      const product = products.find(p => p.id === prodId);\n\n      if (e.target.checked) {\n        dispatch(addToCart(product, prodId, productPrice));\n      } else {\n        dispatch(deleteFromCart(prodId, productPrice));\n      }\n    }, [dispatch, products, productPrice],\n  );\n\n  const isInCart = useMemo(() => (\n    cartItems.some(product => product.id === productId)\n  ), [cartItems, productId]);\n\n  return (\n    <label\n      className={cn(\n        'button-to-cart', styleSize,\n      )}\n      htmlFor={`button-to-cart__${productId}`}\n    >\n      <input\n        className=\"button-to-cart__input\"\n        type=\"checkbox\"\n        id={`button-to-cart__${productId}`}\n        checked={isInCart}\n        onChange={(e) => handleAddingToCart(e, productId)}\n      />\n      <span className=\"button-to-cart__title\">\n        {isInCart ? 'Remove from cart' : 'Add to cart'}\n      </span>\n    </label>\n  );\n};\n","import React, { useMemo, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { PRODUCT_PATHS } from '../../common/constants';\nimport { FavoriteBtn } from '../Buttons/FavoriteBtn';\nimport { ProductPrice } from './ProductPrice';\nimport { AddProductBtn } from '../Buttons/AddProductBtn';\n\nexport const ProductCard = ({\n  name,\n  type,\n  imageUrl,\n  price,\n  screen,\n  capacity,\n  ram,\n  discount,\n  id,\n  productCardRef,\n}: ProductProps) => {\n  const preparedScreen = useMemo(() => (\n    screen.replace(' inches', '\"')\n  ), [screen]);\n  const preparedCapacity = useMemo(() => (\n    `${parseInt((capacity || '32000'), 10)} MB`\n  ), [capacity]);\n  const preparedRam = useMemo(() => (\n    `${parseInt((ram || '1000'), 10)} MB`\n  ), [ram]);\n\n  const backToTop = useCallback(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  return (\n    <article\n      className=\"product-card\"\n      ref={productCardRef}\n    >\n      <Link\n        to={`/${PRODUCT_PATHS[type]}/${id}`}\n        className=\"product-card__link\"\n        onClick={backToTop}\n      >\n        <div className=\"product-card__photo\">\n          <img className=\"product-card__image\" src={imageUrl} alt={name} />\n        </div>\n        <p className=\"product-card__title\">{name}</p>\n      </Link>\n      <div className=\"product-card__price-container\">\n        <ProductPrice price={price} discount={discount} />\n      </div>\n      <span className=\"product-card__split-line\" />\n      <div className=\"product-card__details\">\n        <div className=\"product-card__details-container\">\n          <span className=\"product-card__details-title\">\n            Screen\n          </span>\n          <span className=\"product-card__details-info\">\n            {preparedScreen}\n          </span>\n        </div>\n        <div className=\"product-card__details-container\">\n          <span className=\"product-card__details-title\">\n            Capacity\n          </span>\n          <span className=\"product-card__details-info\">\n            {preparedCapacity}\n          </span>\n        </div>\n        <div className=\"product-card__details-container\">\n          <span className=\"product-card__details-title\">\n            RAM\n          </span>\n          <span className=\"product-card__details-info\">\n            {preparedRam}\n          </span>\n        </div>\n      </div>\n      <div className=\"product-card__buttons-container\">\n        <AddProductBtn productId={id} productPrice={price} />\n        <FavoriteBtn productId={id} />\n      </div>\n    </article>\n  );\n};\n","import React, { useCallback } from 'react';\nimport classNames from 'classnames';\nimport { DIRECTIONS } from '../../common/constants';\n\nexport const SliderControl = ({\n  handleSlide,\n  direction,\n  position,\n  maxPosition,\n}: SliderArrowProps) => {\n  const isLeft = direction === DIRECTIONS.left;\n  const isRight = direction === DIRECTIONS.right;\n  const isStart = position === 0;\n  const isEnd = position === maxPosition;\n\n  const onSlide = useCallback(\n    () => handleSlide(direction),\n    [handleSlide, direction],\n  );\n\n  return (\n    <button\n      type=\"button\"\n      aria-label={`Slide ${direction}`}\n      className={classNames({\n        slider__button: true,\n        [`slider__button-${direction}`]: true,\n      })}\n      onClick={onSlide}\n      disabled={(isLeft && isStart)\n      || (isRight && isEnd)}\n    />\n  );\n};\n","import React from 'react';\nimport { ProductCard } from '../ProductCard/ProductCard';\nimport { SliderControl } from './SliderControl';\nimport { DIRECTIONS } from '../../common/constants';\nimport { useShowcaseBlock } from '../_hooks/useShowcaseBlock';\n\nexport const SliderProducts = ({\n  title,\n  selectedProduct,\n}: SliderProps) => {\n  const {\n    currentProducts,\n    position,\n    animationDuration,\n    handleSlide,\n    maxPosition,\n    controlsAreHidden,\n    productCardRef,\n    sliderContainerRef,\n  } = useShowcaseBlock(title, selectedProduct);\n\n  return (\n    <div className=\"slider\" ref={sliderContainerRef}>\n      <div className=\"slider__container\">\n        <div\n          className=\"slider__list\"\n          style={{\n            transform: `translateX(${position}px)`,\n            transition: `transform ${animationDuration}ms`,\n          }}\n        >\n          {currentProducts.map((product: Product) => (\n            <ProductCard\n              key={product.id}\n              {...product}\n              productCardRef={productCardRef}\n            />\n          ))}\n        </div>\n      </div>\n      {controlsAreHidden && (\n        <div className=\"slider__controls\">\n          <SliderControl\n            handleSlide={handleSlide}\n            direction={DIRECTIONS.left}\n            position={position}\n            maxPosition={maxPosition}\n          />\n          <SliderControl\n            handleSlide={handleSlide}\n            direction={DIRECTIONS.right}\n            position={position}\n            maxPosition={maxPosition}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n","import {\n  useCallback, useEffect, useMemo, useState,\n} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProducts, loadProducts } from '../../redux';\nimport { DIRECTIONS, SHOWCASE_HEADINGS } from '../../common/constants';\n\nconst STEP = 2;\nconst FRAME_SIZE = 4;\nconst MARGIN_WIDTH = 16;\nconst ANIMATION_DURATION = 700;\n\nexport const useShowcaseBlock = (title?: string, selectedProduct?: Product) => {\n  const dispatch = useDispatch();\n  const products: Product[] = useSelector(getProducts);\n  const [position, setPosition] = useState(0);\n  const [cardWidth, setCardWidth] = useState(0);\n  const [containerWidth, setContainerWidth] = useState(0);\n\n  useEffect(() => {\n    dispatch(loadProducts());\n  }, [dispatch]);\n\n  const itemWidth = useMemo(() => cardWidth + MARGIN_WIDTH, [cardWidth]);\n\n  const hotPricesProducts: Product[] = useMemo(() => {\n    return products.filter(product => product.discount !== 0);\n  }, [products]);\n\n  const newProducts: Product[] = useMemo(() => {\n    return products\n      .filter(product => product.age < 10 && !product.discount);\n  }, [products]);\n\n  const alsoLikeProducts: Product[] = useMemo(() => {\n    if (!selectedProduct) {\n      return [];\n    }\n\n    const selectedProductPrice = selectedProduct.price;\n    const selectedProductName = selectedProduct.name;\n\n    return products\n      .filter(product => (product.price - 150 <= selectedProductPrice)\n        && (product.price + 150 >= selectedProductPrice)\n        && (selectedProductName !== product.name)\n        && product.type);\n  }, [products, selectedProduct]);\n\n  const currentProducts: Product[] = useMemo(() => {\n    switch (title) {\n      case SHOWCASE_HEADINGS.hotPrices:\n        return hotPricesProducts;\n\n      case SHOWCASE_HEADINGS.newModels:\n        return newProducts;\n\n      case SHOWCASE_HEADINGS.alsoLike:\n        return alsoLikeProducts;\n\n      default:\n        return [];\n    }\n  }, [title, hotPricesProducts, newProducts, alsoLikeProducts]);\n\n  const carouselWidth = useMemo(() => itemWidth * currentProducts.length,\n    [itemWidth, currentProducts]);\n  const maxPosition = useMemo(() => containerWidth - carouselWidth + MARGIN_WIDTH,\n    [containerWidth, carouselWidth]);\n  const controlsAreHidden = useMemo(\n    () => (containerWidth + MARGIN_WIDTH < carouselWidth),\n    [carouselWidth, containerWidth],\n  );\n  const stepWidth = useMemo(() => {\n    if (containerWidth < itemWidth * STEP) {\n      return itemWidth;\n    }\n\n    return itemWidth * STEP;\n  }, [itemWidth, containerWidth]);\n\n  const productCardRef = useCallback(node => {\n    if (node !== null) {\n      setCardWidth(node.getBoundingClientRect().width);\n    }\n  }, []);\n\n  const sliderContainerRef = useCallback(node => {\n    if (node !== null) {\n      setContainerWidth(node.getBoundingClientRect().width);\n    }\n  }, []);\n\n  const handleSlide = useCallback((direction: string) => {\n    if (direction === DIRECTIONS.left) {\n      if (position + stepWidth > 0) {\n        setPosition(0);\n      } else {\n        setPosition(position + stepWidth);\n      }\n    } else if (position - stepWidth < maxPosition) {\n      setPosition(maxPosition);\n    } else {\n      setPosition(position - stepWidth);\n    }\n  }, [position, maxPosition, stepWidth]);\n\n  return {\n    currentProducts,\n    position,\n    step: STEP,\n    itemWidth,\n    animationDuration: ANIMATION_DURATION,\n    handleSlide,\n    maxPosition,\n    containerWidth,\n    productCardRef,\n    controlsAreHidden,\n    sliderContainerRef,\n    frameSize: FRAME_SIZE,\n  };\n};\n","import React from 'react';\n\nexport const Heading = ({ title }: HeadingProps) => (\n  <h2 className=\"section__heading heading\">{title}</h2>\n);\n","import React from 'react';\nimport { SliderProducts } from './SliderProducts';\nimport { Heading } from '../Heading/Heading';\n\nexport const ShowcaseBlock = ({ title, selectedProduct }: ShowcaseBlockProps) => {\n  return (\n    <>\n      <Heading title={title} />\n      <SliderProducts\n        title={title}\n        selectedProduct={selectedProduct}\n      />\n    </>\n  );\n};\n","import React from 'react';\n\nexport const CarouselSlides = ({\n  slides,\n  moveSize,\n  duration,\n}: CarouselSlidesProps) => {\n  return (\n    <ul\n      className=\"carousel__list\"\n      style={{\n        transform: `translateX(${-moveSize}px)`,\n        transitionDuration: `${duration}s`,\n      }}\n    >\n      {slides.map(({ id, name, src }) => (\n        <li key={id} className=\"carousel__item\">\n          <img\n            className=\"carousel__image\"\n            src={src}\n            alt={name}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n};\n","import React from 'react';\nimport cn from 'classnames';\n\nexport const CarouselDots = ({\n  slides,\n  active,\n  goToSlide,\n}: CarouselDotsProps) => (\n  <div className=\"carousel__dots\">\n    {slides.map((slide, index) => (\n      <button\n        key={slide.id}\n        type=\"button\"\n        aria-label={`Got to ${index + 1} slide`}\n        onClick={() => goToSlide(index)}\n        className={cn({\n          carousel__dot: true,\n          'carousel__dot--active': active === index,\n        })}\n      />\n    ))}\n  </div>\n);\n","import React from 'react';\n\nexport const CarouselControl = ({\n  changeSlide,\n  direction,\n}: CarouselControlProps) => {\n  return (\n    <button\n      type=\"button\"\n      className={`carousel__btn carousel__btn--${direction}`}\n      aria-label={`Slide ${direction}`}\n      onClick={() => changeSlide(direction)}\n    />\n  );\n};\n","import React, {\n  useState, useEffect, useCallback, useRef,\n} from 'react';\nimport { CarouselSlides } from './CarouselSlides';\nimport { CarouselDots } from './CarouselDots';\nimport { CarouselControl } from './CarouselControl';\nimport { DIRECTIONS } from '../../common/constants';\n\nconst carouselImages: CarouselSlide[] = [\n  { id: 1, name: 'phones', src: './img/showcase-carousel/first.jpg' },\n  { id: 2, name: 'tablets', src: './img/showcase-carousel/second.jpg' },\n  { id: 3, name: 'accessories', src: './img/showcase-carousel/third.jpg' },\n];\n\nexport const Carousel = () => {\n  const [moveSize, setMoveSize] = useState<number>(0);\n  const [activeSlide, setActiveSlide] = useState<number>(0);\n  const [slideWidth, setSlideWidth] = useState<number>(0);\n  const slidesLeft = carouselImages.length - 1;\n  const transitionDuration = 0.7;\n  const slideEl = useRef<any>(null);\n\n  useEffect(() => {\n    if (slideEl.current) {\n      setSlideWidth(slideEl.current.getBoundingClientRect().width);\n    }\n  }, []);\n\n  const carouselWidthHasChanged = useCallback(() => {\n    const currentSlideWidth = slideEl.current.getBoundingClientRect().width;\n\n    if (slideWidth !== currentSlideWidth) {\n      setSlideWidth(currentSlideWidth);\n      setMoveSize(0);\n      setActiveSlide(0);\n\n      return true;\n    }\n\n    return false;\n  }, [slideWidth]);\n\n  const changeSlide = useCallback((direction: string) => {\n    if (carouselWidthHasChanged()) {\n      return;\n    }\n\n    if (direction === DIRECTIONS.left) {\n      if (moveSize <= 0) {\n        setMoveSize(moveSize + slideWidth * slidesLeft);\n        setActiveSlide(slidesLeft);\n      } else {\n        setMoveSize(moveSize - slideWidth);\n        setActiveSlide(activeSlide - 1);\n      }\n    }\n\n    if (direction === DIRECTIONS.right) {\n      if (moveSize >= slideWidth * slidesLeft) {\n        setMoveSize(0);\n        setActiveSlide(0);\n      } else {\n        setMoveSize(moveSize + slideWidth);\n        setActiveSlide(activeSlide + 1);\n      }\n    }\n  }, [moveSize, slideWidth, activeSlide, slidesLeft, carouselWidthHasChanged]);\n\n  useEffect(() => {\n    const interval = setInterval(\n      () => changeSlide(DIRECTIONS.right),\n      4000,\n    );\n\n    return () => clearInterval(interval);\n  }, [changeSlide]);\n\n  const handleDotClick = useCallback((index: number) => {\n    if (carouselWidthHasChanged()) {\n      return;\n    }\n\n    if (index < activeSlide) {\n      setMoveSize(moveSize - slideWidth * (activeSlide - index));\n    } else {\n      setMoveSize(moveSize + slideWidth * (index - activeSlide));\n    }\n\n    setActiveSlide(index);\n  }, [activeSlide, moveSize, slideWidth, carouselWidthHasChanged]);\n\n  return (\n    <div className=\"carousel section__carousel\">\n      <div className=\"carousel__container\" ref={slideEl}>\n        <CarouselControl\n          changeSlide={changeSlide}\n          direction={DIRECTIONS.left}\n        />\n        <CarouselControl\n          changeSlide={changeSlide}\n          direction={DIRECTIONS.right}\n        />\n        <CarouselSlides\n          slides={carouselImages}\n          moveSize={moveSize}\n          duration={transitionDuration}\n        />\n        <CarouselDots\n          slides={carouselImages}\n          active={activeSlide}\n          goToSlide={handleDotClick}\n        />\n      </div>\n    </div>\n  );\n};\n","import { useCallback, useMemo } from 'react';\nimport { useSearch } from './useSearch';\nimport { LOCATIONS, PER_PAGE, PRODUCT_TYPES } from '../../common/constants';\nimport { useRouter } from './useRouter';\n\nexport const useProductsList = () => {\n  const { searchedProducts } = useSearch();\n  const { history, search, location } = useRouter();\n\n  const phones = useMemo(() => {\n    return searchedProducts.filter(product => product.type === PRODUCT_TYPES.phone);\n  }, [searchedProducts]);\n\n  const tablets = useMemo(() => {\n    return searchedProducts.filter(product => product.type === PRODUCT_TYPES.tablet);\n  }, [searchedProducts]);\n\n  const searchPerPageCheck = search.get('perPage') === 'All'\n    ? searchedProducts.length\n    : search.get('perPage');\n\n  const page = Number(search.get('page')) || 1;\n  const perPage = Number(searchPerPageCheck) || Number(PER_PAGE[0].option);\n  const indexOfLast = useMemo(() => page * perPage, [page, perPage]);\n  const indexOfFirst = useMemo(() => indexOfLast - perPage, [indexOfLast, perPage]);\n\n  const {\n    numberOfProducts = 0,\n    currentProducts = searchedProducts,\n  } = useMemo(() => {\n    if (location.pathname === LOCATIONS.phones) {\n      return {\n        numberOfProducts: phones.length,\n        currentProducts: phones.slice(indexOfFirst, indexOfLast),\n      };\n    }\n\n    return {\n      numberOfProducts: tablets.length,\n      currentProducts: tablets.slice(indexOfFirst, indexOfLast),\n    };\n  }, [phones, tablets, indexOfFirst, indexOfLast, location.pathname]);\n\n  const changePage = (pageNumber: number) => {\n    search.set('page', pageNumber.toString());\n\n    history.push({\n      search: search.toString(),\n    });\n  };\n\n  const queryCondition = useCallback(() => {\n    if (search.get('query')) {\n      return 'result';\n    }\n\n    if (location.pathname === LOCATIONS.favorites) {\n      return 'item';\n    }\n\n    return 'model';\n  }, [search, location.pathname]);\n\n  return {\n    currentProducts,\n    numberOfProducts,\n    changePage,\n    queryCondition,\n    perPage,\n    page,\n    search,\n    phones,\n    tablets,\n    location,\n  };\n};\n","import React, { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useProductsList } from '../_hooks/useProductsList';\nimport { getFavorites } from '../../redux';\nimport { PRODUCT_PATHS } from '../../common/constants';\n\nexport const ProductsAmount = ({ title }: ProductsAmountProps) => {\n  const { phones, tablets, queryCondition } = useProductsList();\n  const favorites: Product[] = useSelector(getFavorites);\n  const preparedTitle = title.toLowerCase();\n\n  const amount = useMemo(() => {\n    switch (true) {\n      case preparedTitle.includes(PRODUCT_PATHS.phone):\n        return phones.length;\n      case preparedTitle.includes(PRODUCT_PATHS.tablet):\n        return tablets.length;\n      case preparedTitle.includes(PRODUCT_PATHS.favorites):\n        return favorites.length;\n      default:\n        return 0;\n    }\n  }, [phones, tablets, favorites, preparedTitle]);\n\n  return (\n    <p className=\"products-amount categories__amount\">\n      {amount}\n      {' '}\n      {queryCondition()}\n      {amount !== 1 && 's'}\n    </p>\n  );\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { ProductsAmount } from '../ProductsAmount/ProductsAmount';\n\nexport const Category = ({ title, link }: Category) => {\n  return (\n    <div className=\"categories__category\">\n      <Link\n        to={`/${link}`}\n        className=\"categories__link\"\n      >\n        <div className=\"categories__photo\">\n          <img\n            className=\"categories__image\"\n            src={`./img/categories/category-${link}.jpg`}\n            alt={link}\n          />\n        </div>\n        <h3 className=\"categories__title\">{title}</h3>\n        <ProductsAmount title={title} />\n      </Link>\n    </div>\n  );\n};\n","import React from 'react';\nimport { Heading } from '../Heading/Heading';\nimport { Category } from './Category';\n\nconst categories: Category[] = [\n  { title: 'Mobile phones', link: 'phones' },\n  { title: 'Tablets', link: 'tablets' },\n  { title: 'Accessories', link: 'accessories' },\n];\n\nexport const Categories = () => {\n  return (\n    <>\n      <Heading title=\"Shop by category\" />\n      <div className=\"categories\">\n        {categories.map(({ title, link }) => (\n          <Category\n            key={title}\n            title={title}\n            link={link}\n          />\n        ))}\n      </div>\n    </>\n  );\n};\n","import React from 'react';\nimport { ShowcaseBlock } from '../components/ShowcaseBlock/ShowcaseBlock';\nimport { Carousel } from '../components/Carousel/Carousel';\nimport { Categories } from '../components/Categories/Categories';\nimport { SHOWCASE_HEADINGS } from '../common/constants';\n\nexport const HomePage = () => {\n  return (\n    <div className=\"container\">\n      <h1 className=\"visually-hidden\">React Products Catalog</h1>\n      <section className=\"section\">\n        <Carousel />\n      </section>\n      <section className=\"section\">\n        <ShowcaseBlock title={SHOWCASE_HEADINGS.hotPrices} />\n      </section>\n      <section className=\"section\">\n        <Categories />\n      </section>\n      <section className=\"section\">\n        <ShowcaseBlock title={SHOWCASE_HEADINGS.newModels} />\n      </section>\n    </div>\n  );\n};\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { getProducts } from '../../redux';\n\nexport const Breadcrumb = ({ label, link, isLast }: BreadcrumbProps) => {\n  const products: Product[] = useSelector(getProducts);\n\n  const preparedLabel = products.find(product => (\n    product.id === label\n  ))?.name || label;\n\n  return (\n    <li className=\"breadcrumbs__item\">\n      <span className=\"breadcrumbs__arrow\" />\n      {isLast\n        ? <span className=\"breadcrumbs__last\">{preparedLabel}</span>\n        : (\n          <NavLink\n            to={link}\n            className=\"breadcrumbs__link\"\n            activeClassName=\"breadcrumbs__link--active\"\n          >\n            {preparedLabel}\n          </NavLink>\n        )}\n    </li>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { Breadcrumb } from './Breadcrumb';\n\nexport const Breadcrumbs = () => {\n  const location = useLocation();\n\n  const preparedLabels = useMemo(() => (\n    location.pathname\n      .split('/')\n      .slice(1)\n  ), [location]);\n\n  const preparedBreadcrumbs = useMemo(() => (\n    preparedLabels\n      .reduce((acc: string[], item) => [...acc, `${acc}/${item}`], [])\n  ), [preparedLabels]);\n\n  return (\n    <ul className=\"breadcrumbs section__breadcrumbs\">\n      <NavLink\n        to=\"/\"\n        className=\"breadcrumbs__item breadcrumbs__home\"\n        activeClassName=\"breadcrumb__link--active\"\n      />\n      {preparedBreadcrumbs.map((crumb, index) => (\n        <Breadcrumb\n          label={preparedLabels[index]}\n          link={crumb}\n          key={crumb}\n          isLast={index === preparedBreadcrumbs.length - 1}\n        />\n      ))}\n    </ul>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { useProductsList } from '../components/_hooks/useProductsList';\nimport { Heading } from '../components/Heading/Heading';\nimport { ProductsAmount } from '../components/ProductsAmount/ProductsAmount';\nimport { Breadcrumbs } from '../components/Breadcrumbs/Breadcrumbs';\nimport { ProductCard } from '../components/ProductCard/ProductCard';\nimport { PRODUCT_PATHS, SECTION_HEADINGS, SHOWCASE_HEADINGS } from '../common/constants';\nimport { useSearch } from '../components/_hooks/useSearch';\nimport { ShowcaseBlock } from '../components/ShowcaseBlock/ShowcaseBlock';\n\nexport const FavoritesPage = () => {\n  const {\n    search,\n  } = useProductsList();\n\n  const { searchedProducts } = useSearch();\n  const doFavoritesExist = useMemo(() => searchedProducts.length > 0, [searchedProducts]);\n\n  return (\n    <div className=\"container\">\n      <section className=\"section\">\n        {doFavoritesExist\n          ? (\n            <>\n              {!search.get('query') && (\n                <>\n                  <Breadcrumbs />\n                  <Heading title={SECTION_HEADINGS.favorites} />\n                </>\n              )}\n              {doFavoritesExist && (\n                <ProductsAmount title={PRODUCT_PATHS.favorites} />\n              )}\n              <div className=\"products section__products\">\n                {searchedProducts.map((product) => (\n                  <ProductCard key={product.id} {...product} />\n                ))}\n              </div>\n            </>\n          )\n          : (\n            <>\n              <p className=\"section__no-favorites-info\">\n                Favorites list is empty.\n                <br />\n                Please, take a look at our new models.\n              </p>\n              <ShowcaseBlock title={SHOWCASE_HEADINGS.newModels} />\n            </>\n          )}\n      </section>\n    </div>\n  );\n};\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nexport const BackBtn = () => {\n  const history = useHistory();\n  const goBack = () => history.goBack();\n\n  return (\n    <button\n      type=\"button\"\n      className=\"button-back\"\n      onClick={goBack}\n    >\n      Back\n    </button>\n  );\n};\n","import React from 'react';\nimport cn from 'classnames';\n\nexport const GalleryThumbnails = ({\n  images,\n  currentImageLink,\n  title,\n  handleClick,\n}: GalleryThumbnailsProps) => {\n  return (\n    <div className=\"gallery__thumbnails\">\n      {images.map((link, index) => (\n        <div\n          className={cn({\n            gallery__thumbnail: true,\n            'gallery__thumbnail--active': currentImageLink.includes(link),\n          })}\n          key={link}\n        >\n          <a\n            href=\"#!\"\n            className=\"gallery__link\"\n            onClick={handleClick}\n          >\n            <img\n              src={link}\n              alt={`${title} - ${index + 1}`}\n              className=\"gallery__img\"\n            />\n          </a>\n        </div>\n      ))}\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { GalleryThumbnails } from './GalleryThumbnails';\n\nexport const ProductGallery = ({ images, title }: ProductGalleryProps) => {\n  const [currentImageLink, setCurrentImageLink] = useState('');\n\n  useEffect(() => {\n    setCurrentImageLink(images[0]);\n  }, [images]);\n\n  const setActiveImage = (e: React.MouseEvent<HTMLAnchorElement>) => {\n    e.preventDefault();\n    const { src } = e.target as HTMLImageElement;\n\n    if (src) {\n      setCurrentImageLink(src);\n    }\n  };\n\n  return (\n    <div className=\"gallery\">\n      <GalleryThumbnails\n        images={images}\n        title={title}\n        handleClick={setActiveImage}\n        currentImageLink={currentImageLink}\n      />\n      <div className=\"gallery__photo gallery__photo--lg\">\n        <img\n          src={currentImageLink}\n          alt={title}\n          className=\"gallery__img\"\n        />\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\nexport const ProductTechSpecs = ({\n  display,\n  hardware,\n  storage,\n  android,\n  battery,\n  sizeAndWeight,\n}: ProductDetails) => {\n  return (\n    <div className=\"product__specs product__specs--text-md\">\n      <div className=\"product__spec\">\n        <span className=\"product__spec-title\">Screen</span>\n        <span className=\"product__spec-info\">\n          {display.screenSize}\n        </span>\n      </div>\n      <div className=\"product__spec\">\n        <span className=\"product__spec-title\">Resolution</span>\n        <span className=\"product__spec-info\">\n          {display.screenResolution}\n        </span>\n      </div>\n      <div className=\"product__spec\">\n        <span className=\"product__spec-title\">Processor</span>\n        <span className=\"product__spec-info\">\n          {hardware.cpu}\n        </span>\n      </div>\n      <div className=\"product__spec\">\n        <span className=\"product__spec-title\">Storage</span>\n        <span className=\"product__spec-info\">\n          {storage.flash || '32000MB'}\n        </span>\n      </div>\n      <div className=\"product__spec\">\n        <span className=\"product__spec-title\">RAM</span>\n        <span className=\"product__spec-info\">\n          {storage.ram || '1000 MB'}\n        </span>\n      </div>\n      <div className=\"product__spec\">\n        <span className=\"product__spec-title\">OS</span>\n        <span className=\"product__spec-info\">\n          {android.os}\n        </span>\n      </div>\n      <div className=\"product__spec\">\n        <span className=\"product__spec-title\">Battery</span>\n        <span className=\"product__spec-info\">\n          {battery.type}\n        </span>\n      </div>\n      <div className=\"product__spec\">\n        <span className=\"product__spec-title\">Weight</span>\n        <span className=\"product__spec-info\">\n          {sizeAndWeight.weight}\n        </span>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\nexport const ProductDescription = ({\n  description,\n  additionalFeatures,\n}: ProductDetails) => {\n  return (\n    <>\n      <h3 className=\"product__heading\">About</h3>\n      <p className=\"product__paragraph\">\n        {description}\n      </p>\n      {additionalFeatures && (\n        <>\n          <h4 className=\"product__subheading\">Features</h4>\n          <p className=\"product__paragraph\">\n            {additionalFeatures}\n          </p>\n        </>\n      )}\n    </>\n  );\n};\n","import React from 'react';\n\nexport const ProductShortSpecs = ({\n  display,\n  storage,\n  battery,\n}: ProductDetails) => {\n  return (\n    <div className=\"product__specs\">\n      <div className=\"product__spec\">\n        <span className=\"product__spec-title\">Screen</span>\n        <span className=\"product__spec-info\">\n          {display.screenSize}\n        </span>\n      </div>\n      <div className=\"product__spec\">\n        <span className=\"product__spec-title\">Resolution</span>\n        <span className=\"product__spec-info\">\n          {display.screenResolution}\n        </span>\n      </div>\n      <div className=\"product__spec\">\n        <span className=\"product__spec-title\">Battery</span>\n        <span className=\"product__spec-info\">\n          {battery.type}\n        </span>\n      </div>\n      <div className=\"product__spec\">\n        <span className=\"product__spec-title\">RAM</span>\n        <span className=\"product__spec-info\">\n          {storage.ram || '1000 MB'}\n        </span>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\nexport const Loader = () => (\n  <div className=\"container\">\n    <section className=\"section\">\n      <div className=\"lds-spinner\">\n        <div />\n        <div />\n        <div />\n        <div />\n        <div />\n        <div />\n        <div />\n        <div />\n        <div />\n        <div />\n        <div />\n        <div />\n      </div>\n    </section>\n  </div>\n);\n","import React from 'react';\n\nexport const ErrorPage = () => {\n  return (\n    <div className=\"container\">\n      <h3\n        style={{\n          textAlign: 'center',\n          textTransform: 'uppercase',\n          opacity: '0.4',\n          marginTop: '40px',\n        }}\n      >\n        Oops... Something went wrong here\n      </h3>\n      <h4\n        style={{\n          textAlign: 'center',\n          opacity: '0.4',\n          marginTop: '20px',\n        }}\n      >\n        The link you followed probably broken\n      </h4>\n      <img\n        alt=\"Guess i'll die\"\n        src=\"https://i.kym-cdn.com/photos/images/original/001/285/460/8b6.jpg\"\n        style={{\n          width: '100%',\n          height: '100%',\n          marginTop: '30px',\n        }}\n      />\n    </div>\n  );\n};\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { Heading } from '../../components/Heading/Heading';\nimport { FavoriteBtn } from '../../components/Buttons/FavoriteBtn';\nimport { PRICE_TEXT_SIZES, SHOWCASE_HEADINGS, LOCATIONS } from '../../common/constants';\nimport { ProductPrice } from '../../components/ProductCard/ProductPrice';\nimport { AddProductBtn } from '../../components/Buttons/AddProductBtn';\nimport { getDetails, getProducts, loadDetails } from '../../redux';\nimport { ShowcaseBlock } from '../../components/ShowcaseBlock/ShowcaseBlock';\nimport { Breadcrumbs } from '../../components/Breadcrumbs/Breadcrumbs';\nimport { BackBtn } from '../../components/Buttons/BackBtn';\nimport { ProductGallery } from '../../components/ProductGallery/ProductGallery';\nimport { ProductTechSpecs } from './ProductTechSpecs';\nimport { ProductDescription } from './ProductDescription';\nimport { ProductShortSpecs } from './ProductShortSpecs';\nimport { Loader } from '../../components/Loader/Loader';\nimport { ErrorPage } from '../ErrorPage';\n\nexport const ProductDetailsPage = () => {\n  const dispatch = useDispatch();\n  const { productType, productId } = useParams();\n  const [product, setProduct] = useState<Product>();\n  const productDetails: ProductDetails = useSelector(getDetails);\n  const products: Product[] = useSelector(getProducts);\n\n  const currentProduct = useMemo(() => (\n    products.find(\n      p => (p.id === productId),\n    )\n  ), [products, productId]);\n\n  useEffect(() => {\n    if (products.length) {\n      setProduct(currentProduct);\n    }\n  }, [dispatch, products, productId, currentProduct]);\n\n  useEffect(() => {\n    dispatch(loadDetails(productId));\n  }, [productId, dispatch]);\n\n  if (!Object.prototype.hasOwnProperty.call(LOCATIONS, productType)) {\n    return <ErrorPage />;\n  }\n\n  if (!product) {\n    return <Loader />;\n  }\n\n  return (\n    <div className=\"container\">\n      <article className=\"product\">\n        <section className=\"section product__section\">\n          <Breadcrumbs />\n          <BackBtn />\n          <Heading title={productDetails.name} />\n          <div className=\"product__grid\">\n            <div className=\"product__column\">\n              <div className=\"product__gallery\">\n                <ProductGallery\n                  images={productDetails.images}\n                  title={productDetails.name}\n                />\n              </div>\n            </div>\n            <div className=\"product__column\">\n              <div className=\"product__flex-wrap\">\n                <ProductPrice\n                  price={product.price}\n                  discount={product.discount}\n                  styleSize={PRICE_TEXT_SIZES.large}\n                />\n                <span className=\"product__id\">\n                  {`ID: ${product.id}`}\n                </span>\n              </div>\n              <div className=\"product__flex-wrap product__buttons\">\n                <AddProductBtn\n                  productId={product.id}\n                  styleSize=\"button-to-cart--lg\"\n                  productPrice={product.price}\n                />\n                <FavoriteBtn\n                  productId={product.id}\n                  styleSize=\"button-favorite--lg\"\n                />\n              </div>\n              <ProductShortSpecs {...productDetails} />\n            </div>\n            <div className=\"product__column\">\n              <ProductDescription {...productDetails} />\n            </div>\n            <div className=\"product__column\">\n              <h3 className=\"product__heading\">Tech specs</h3>\n              <ProductTechSpecs {...productDetails} />\n            </div>\n          </div>\n        </section>\n        <section className=\"section\">\n          <ShowcaseBlock\n            title={SHOWCASE_HEADINGS.alsoLike}\n            selectedProduct={product}\n          />\n        </section>\n      </article>\n    </div>\n  );\n};\n","import React from 'react';\nimport cn from 'classnames';\n\nexport const Pagination = ({\n  total,\n  perPage,\n  page,\n  changePage,\n}: PaginationProps) => {\n  const pageNumbers: number[] = [];\n\n  for (let i = 1; i <= Math.ceil(total / perPage); i += 1) {\n    pageNumbers.push(i);\n  }\n\n  return (\n    <div className=\"pagination section__pagination\">\n      <button\n        type=\"button\"\n        aria-label=\"Go left\"\n        className=\"pagination__button pagination__button--left\"\n        onClick={() => changePage(page - 1)}\n        disabled={page === 1}\n      />\n      <ul className=\"pagination__list\">\n        {pageNumbers.map(number => (\n          <li\n            className=\"pagination__item\"\n            key={number}\n          >\n            <button\n              type=\"button\"\n              onClick={() => changePage(number)}\n              className={cn({\n                pagination__button: true,\n                'pagination__button--active': page === number,\n              })}\n            >\n              {number}\n            </button>\n          </li>\n        ))}\n      </ul>\n      <button\n        type=\"button\"\n        aria-label=\"Go right\"\n        className=\"pagination__button pagination__button--right\"\n        onClick={() => changePage(page + 1)}\n        disabled={page === pageNumbers.length}\n      />\n    </div>\n  );\n};\n","import React from 'react';\nimport cn from 'classnames';\n\nexport const DropdownArrow = ({ isListOpen }: DropdownArrowProps) => {\n  return (\n    <span className={cn({\n      dropdown__arrow: true,\n      'dropdown__arrow--up': isListOpen,\n    })}\n    />\n  );\n};\n","import React, { useCallback } from 'react';\nimport cn from 'classnames';\nimport { DropdownArrow } from './DropdownArrow';\nimport { useDropdown } from './useDropdown';\n\nexport const Dropdown = ({ list, heading }: DropdownProps) => {\n  const {\n    toggleList,\n    selectedOption,\n    isListOpen,\n    handleSort,\n  } = useDropdown(list, heading);\n\n  const onSort = useCallback((e: React.MouseEvent, option: string) => {\n    e.preventDefault();\n    handleSort(option);\n  }, [handleSort]);\n\n  return (\n    <div className=\"dropdown\">\n      <p className=\"dropdown__heading\">{heading}</p>\n      <div className=\"dropdown__wrapper\">\n        <button\n          type=\"button\"\n          className=\"dropdown__header\"\n          onClick={toggleList}\n        >\n          {selectedOption}\n          <DropdownArrow isListOpen={isListOpen} />\n        </button>\n        <ul className={cn({\n          dropdown__list: true,\n          'dropdown__list--is-open': isListOpen,\n        })}\n        >\n          {list.map(({ option }) => (\n            <li key={option}>\n              <a\n                href=\"#!\"\n                className={cn({\n                  'dropdown__list-item': true,\n                  'dropdown__list-item--active': selectedOption === option,\n                })}\n                onClick={e => onSort(e, option)}\n              >\n                {option}\n              </a>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { DROPDOWN_HEADINGS } from '../../common/constants';\nimport { useRouter } from '../_hooks/useRouter';\n\nexport const useDropdown = (list: OptionType[], heading: string) => {\n  const [isListOpen, setListOpen] = useState<boolean>(false);\n  const [selectedOption, setSelectedOption] = useState(list[0].option);\n\n  const closeDropdown = useCallback(() => setListOpen(false), []);\n  const { search, history } = useRouter();\n\n  useEffect(() => {\n    if (isListOpen) {\n      window.addEventListener('click', closeDropdown);\n    } else {\n      window.removeEventListener('click', closeDropdown);\n    }\n  }, [isListOpen, closeDropdown]);\n\n  const toggleList = useCallback(() => setListOpen(!isListOpen), [isListOpen]);\n\n  const handleSort = useCallback((option: string) => {\n    setSelectedOption(option);\n\n    if (heading === DROPDOWN_HEADINGS.sortBy) {\n      search.set('sortBy', option);\n    }\n\n    if (heading === DROPDOWN_HEADINGS.perPage) {\n      if (option === 'All') {\n        search.set('perPage', option);\n      }\n\n      search.set('perPage', option);\n    }\n\n    search.delete('page');\n\n    history.push({ search: search.toString() });\n  }, [history, search, heading]);\n\n  return {\n    toggleList,\n    selectedOption,\n    isListOpen,\n    handleSort,\n  };\n};\n","import React from 'react';\nimport { ProductCard } from '../ProductCard/ProductCard';\nimport { useProductsList } from '../_hooks/useProductsList';\n\nexport const ProductsList = () => {\n  const { currentProducts, numberOfProducts } = useProductsList();\n\n  return (\n    <>\n      {numberOfProducts ? (\n        <div className=\"products section__products\">\n          {currentProducts.map(product => (\n            <ProductCard key={product.id} {...product} />\n          ))}\n        </div>\n      )\n        : (\n          <p className=\"section__no-products-info\">\n            No products with such title...try again.\n          </p>\n        )}\n    </>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { useProductsList } from '../components/_hooks/useProductsList';\nimport { Heading } from '../components/Heading/Heading';\nimport { Pagination } from '../components/Pagination/Pagination';\nimport { ProductsAmount } from '../components/ProductsAmount/ProductsAmount';\nimport {\n  DROPDOWN_HEADINGS,\n  SORT_TYPES,\n  PER_PAGE, PRODUCT_PATHS, SECTION_HEADINGS, LOCATIONS,\n} from '../common/constants';\nimport { Breadcrumbs } from '../components/Breadcrumbs/Breadcrumbs';\nimport { Dropdown } from '../components/Dropdown/Dropdown';\nimport { ProductsList } from '../components/ProductsList/ProductsList';\nimport { useRouter } from '../components/_hooks/useRouter';\n\nexport const ProductsPage = () => {\n  const {\n    numberOfProducts,\n    changePage,\n    perPage,\n    page,\n    search,\n  } = useProductsList();\n\n  const { location } = useRouter();\n\n  const { pageHeading, productAmountTitle } = useMemo(() => {\n    switch (location.pathname) {\n      case LOCATIONS.phones:\n        return {\n          pageHeading: SECTION_HEADINGS.phones,\n          productAmountTitle: PRODUCT_PATHS.phone,\n        };\n      case LOCATIONS.tablets:\n        return {\n          pageHeading: SECTION_HEADINGS.tablets,\n          productAmountTitle: PRODUCT_PATHS.tablet,\n        };\n      default:\n        return {\n          pageHeading: 'Products',\n          productAmountTitle: 'Models',\n        };\n    }\n  }, [location]);\n\n  return (\n    <div className=\"container\">\n      <section className=\"section\">\n        {!search.get('query') && (\n          <>\n            <Breadcrumbs />\n            <Heading title={pageHeading} />\n          </>\n        )}\n        {numberOfProducts !== 0 && (\n          <ProductsAmount title={productAmountTitle} />\n        )}\n        {!search.get('query') && (\n          <div className=\"section__dropdowns\">\n            <Dropdown\n              heading={DROPDOWN_HEADINGS.sortBy}\n              list={SORT_TYPES}\n            />\n            <Dropdown\n              heading={DROPDOWN_HEADINGS.perPage}\n              list={PER_PAGE}\n            />\n          </div>\n        )}\n        <ProductsList />\n        {numberOfProducts > perPage && (\n          <Pagination\n            total={numberOfProducts}\n            perPage={perPage}\n            page={page}\n            changePage={changePage}\n          />\n        )}\n      </section>\n    </div>\n  );\n};\n","import React, { useCallback, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { addQuantity, deleteFromCart, subtractQuantity } from '../../redux/cart';\nimport { ProductPrice } from '../ProductCard/ProductPrice';\nimport { getCartItems } from '../../redux';\nimport { PRODUCT_PATHS } from '../../common/constants';\n\nexport const CartItem = (props: Product) => {\n  const {\n    id, name, type, imageUrl, price, discount,\n  } = props;\n  const dispatch = useDispatch();\n  const cartItems = useSelector(getCartItems);\n  const cartItem = useMemo(\n    () => cartItems.find(item => item.id === id)!,\n    [cartItems, id],\n  );\n\n  const handleDeletingItem = useCallback(\n    () => dispatch(deleteFromCart(id, price)),\n    [dispatch, id, price],\n  );\n\n  const handleAdding = useCallback(\n    () => dispatch(addQuantity(id, price)),\n    [dispatch, id, price],\n  );\n\n  const handleSubtracting = useCallback(\n    () => dispatch(subtractQuantity(id, price)),\n    [dispatch, id, price],\n  );\n\n  const buttonDisabled = useMemo(\n    () => cartItem.quantity === 1,\n    [cartItem.quantity],\n  );\n\n  return (\n    <div className=\"cart-item\">\n      <button\n        type=\"button\"\n        className=\"cart-item__delete-btn\"\n        aria-label=\"Delete product\"\n        onClick={handleDeletingItem}\n      />\n      <Link\n        to={`/${PRODUCT_PATHS[type]}/${id}`}\n        className=\"cart-item__link\"\n      >\n        <img className=\"cart-item__image\" src={imageUrl} alt={name} />\n      </Link>\n      <p className=\"cart-item__title\">{name}</p>\n      <div className=\"cart-item__quantity-container\">\n        <button\n          type=\"button\"\n          className=\"cart-item__subtract-btn\"\n          aria-label=\"Add product quantity\"\n          onClick={handleSubtracting}\n          disabled={buttonDisabled}\n        />\n        <span className=\"cart-item__quantity\">{cartItem.quantity}</span>\n        <button\n          type=\"button\"\n          className=\"cart-item__add-btn\"\n          aria-label=\"Delete product quantity\"\n          onClick={handleAdding}\n        />\n      </div>\n      <ProductPrice price={price} discount={discount} />\n    </div>\n  );\n};\n","import React, { useCallback, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { getPrice } from '../../redux';\nimport { resetCart } from '../../redux/cart';\n\nexport const CartTotal = ({ cartItems }: CartTotalProps) => {\n  const price = useSelector(getPrice);\n  const dispatch = useDispatch();\n\n  const totalItems = useMemo(\n    () => cartItems.reduce((acc, item) => item.quantity! + acc, 0),\n    [cartItems],\n  );\n\n  const handleResetCart = useCallback(\n    () => dispatch(resetCart()),\n    [dispatch]\n  );\n\n  return (\n    <div className=\"cart-total\">\n      <div className=\"cart-total__info-container\">\n        <span className=\"cart-total__price\">\n          $\n          {price}\n        </span>\n        <span className=\"cart-total__info\">\n          Total for\n          {' '}\n          {totalItems}\n          {' '}\n          items\n        </span>\n      </div>\n      <Link\n        to=\"/checkout\"\n        className=\"cart-total__button\"\n        onClick={handleResetCart}\n      >\n        Checkout\n      </Link>\n    </div>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Heading } from '../components/Heading/Heading';\nimport { SECTION_HEADINGS, SHOWCASE_HEADINGS } from '../common/constants';\nimport { ShowcaseBlock } from '../components/ShowcaseBlock/ShowcaseBlock';\nimport { BackBtn } from '../components/Buttons/BackBtn';\nimport { getCartItems } from '../redux';\nimport { CartItem } from '../components/Cart/CartItem';\nimport { CartTotal } from '../components/Cart/CartTotal';\n\nexport const CartPage = () => {\n  const cartItems = useSelector(getCartItems);\n  const filledCart = useMemo(() => cartItems.length > 0, [cartItems]);\n\n  return (\n    <div className=\"container\">\n      <section className=\"section\">\n        {filledCart\n          ? (\n            <>\n              <BackBtn />\n              <Heading title={SECTION_HEADINGS.cart} />\n              <div className=\"cart__content-container\">\n                <ul className=\"cart__items\">\n                  {cartItems.map((product) => (\n                    <CartItem key={product.id} {...product} />\n                  ))}\n                </ul>\n                <CartTotal\n                  cartItems={cartItems}\n                />\n              </div>\n            </>\n          )\n          : (\n            <>\n              <p className=\"section__no-favorites-info\">\n                Cart is empty.\n                <br />\n                Please, take a look at our new models.\n              </p>\n              <ShowcaseBlock title={SHOWCASE_HEADINGS.newModels} />\n            </>\n          )}\n      </section>\n    </div>\n  );\n};\n","import React from 'react';\nimport { Breadcrumbs } from '../components/Breadcrumbs/Breadcrumbs';\nimport { Heading } from '../components/Heading/Heading';\n\nexport const AccessoriesPage = () => {\n  return (\n    <div className=\"container\">\n      <section className=\"section\">\n        <Breadcrumbs />\n        <Heading title=\"Accessories\" />\n        <h3\n          style={{\n            textAlign: 'center',\n            marginBottom: '30px',\n            marginTop: '30px',\n          }}\n        >\n          Sorry, no products in this category yet\n        </h3>\n        <img\n          src=\"./img/empty-cart.png\"\n          alt=\"Empty cart\"\n          style={{\n            display: 'block',\n            maxWidth: '200px',\n            margin: '0 auto',\n          }}\n        />\n      </section>\n    </div>\n  );\n};\n","import React from 'react';\n\nexport const Checkout = () => {\n  return (\n    <div className=\"container\">\n      <section className=\"section\">\n        <div className=\"checkout\">\n          <div className=\"checkout__container\">\n            <h2 className=\"checkout__title\">Thank you for your purchase</h2>\n            <h3 className=\"checkout__subtitle\">Have a nice day!</h3>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n};\n","import React, { useEffect } from 'react';\nimport { Switch, Route, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { Footer } from './components/Footer/Footer';\nimport { Header } from './components/Header/Header';\nimport { HomePage } from './pages/HomePage';\nimport { FavoritesPage } from './pages/FavoritesPage';\nimport { ProductDetailsPage } from './pages/ProductDetailsPage/ProductDetailsPage';\nimport { ProductsPage } from './pages/ProductsPage';\nimport { ErrorPage } from './pages/ErrorPage';\nimport { CartPage } from './pages/CartPage';\nimport { AccessoriesPage } from './pages/AccessoriesPage';\nimport { loadProducts } from './redux';\nimport { Checkout } from './components/Cart/Checkout';\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const location = useLocation();\n\n  useEffect(() => {\n    dispatch(loadProducts());\n  }, [dispatch]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [location]);\n\n  return (\n    <>\n      <Header />\n      <main className=\"main\">\n        <Switch>\n          <Route exact path={['/', '/home']} component={HomePage} />\n          <Route exact path={['/phones', '/tablets']} component={ProductsPage} />\n          <Route exact path=\"/accessories\" component={AccessoriesPage} />\n          <Route exact path=\"/favorites\" component={FavoritesPage} />\n          <Route exact path=\"/cart\" component={CartPage} />\n          <Route exact path=\"/checkout\" component={Checkout} />\n          <Route\n            exact\n            path=\"/:productType/:productId\"\n            component={ProductDetailsPage}\n          />\n          <Route component={ErrorPage} />\n        </Switch>\n      </main>\n      <Footer />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './App';\nimport store from './redux';\nimport './App.scss';\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}